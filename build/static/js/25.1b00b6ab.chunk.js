(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[25],{1685:function(e,t,n){"use strict";n.r(t);var c=n(468),a=n(471),i=n(14),s=n(0),r=n(123),l=n(1),o=n(477),u=n.n(o),d=n(478),j=n.n(d),b=n(126),m=(n(476),n(863)),O=n(818),f=n(886),p=n(838),x=n(806),h=n(781),g=n(868),v=n(828),C=n(1619),S=n(1620),y=n(1683),w=n(1621),N=n(1623),k=n(538),P=n(702),E=n(765),A=n(465),B=n(569),L=n(570),_=n(646),M=n(1626),F=n(472),D=n(473),T=n(763),I=n(231),R=n(121),z=n(469),V=n.n(z),Y=n(470),Z=n.n(Y),W=n(232),G=n(633),U=n(3),K=["onClick"],H=n(479),J=Object(l.forwardRef)((function(e,t){var n=e.onClick,c=Object(r.a)(e,K);return Object(U.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(U.jsx)("input",Object(s.a)({type:"checkbox",className:"custom-control-input",ref:t},c)),Object(U.jsx)("label",{className:"custom-control-label",onClick:n})]})})),q=function(){var e=Object(R.c)(),t=Object(R.d)((function(e){return e.modal})),n=Object(l.useState)([]),s=Object(i.a)(n,2),r=s[0],o=s[1],d=Object(l.useState)([]),z=Object(i.a)(d,2),Y=z[0],K=z[1],q=Object(l.useState)(""),Q=Object(i.a)(q,2),X=Q[0],$=Q[1],ee=Object(l.useState)({sortBy:"_id",sortOrder:"asc"}),te=Object(i.a)(ee,2),ne=te[0],ce=te[1],ae=Object(l.useState)(5),ie=Object(i.a)(ae,2),se=ie[0],re=ie[1],le=Object(l.useState)(1),oe=Object(i.a)(le,2),ue=oe[0],de=oe[1],je=Object(l.useState)(1),be=Object(i.a)(je,2),me=be[0],Oe=be[1],fe=Object(l.useState)(void 0),pe=Object(i.a)(fe,2),xe=pe[0],he=pe[1],ge=[{name:"#",selector:"_id",sortable:!0,minWidth:"250px"},{name:"Status",selector:"isActive",sortable:!0,minWidth:"150px",cell:function(e){return Object(U.jsxs)("div",{children:[Ce[e.isActive].icon,"\xa0\xa0\xa0\xa0\xa0",e.isActive&&Object(U.jsx)("span",{style:{color:"#00AB5F"},children:"Active"}),!e.isActive&&Object(U.jsx)("span",{style:{color:"#FC7753"},children:"Inactive"})]})}},{name:"Price",selector:"price",sortable:!0,minWidth:"50px"},{name:"Subscription Type",selector:"isFullSubscription",sortable:!0,minWidth:"250px",cell:function(e){return Object(U.jsx)("div",{children:e.isFullSubscription?"Full Subscription":e.modules.join(",")})}},{name:"Created at",selector:"createdAt",sortable:!0,minWidth:"150px",cell:function(e){return Object(U.jsx)("div",{children:H(e.createdAt).format("DD MMM YYYY")})}},{name:"Duration",selector:"duration",sortable:!0,minWidth:"100px",cell:function(e){return Object(U.jsx)(C.a,{color:"light-success",pill:!0,children:e.duration+e.durationType})}},{name:"Actions",allowOverflow:!0,cell:function(t){return Object(U.jsxs)("div",{className:"d-flex",children:[Object(U.jsxs)(S.a,{children:[Object(U.jsx)(y.a,{className:"pr-1",tag:"span",children:Object(U.jsx)(m.a,{size:15})}),Object(U.jsxs)(w.a,{right:!0,children:[Object(U.jsxs)(N.a,{tag:"a",href:"#",className:"w-100",onClick:function(e){return we(e,t._id,!t.isActive)},children:[Object(U.jsx)(O.a,{size:15}),Object(U.jsx)("span",{className:"align-middle ml-50",children:t.isActive?"Deactivate":"Activate"})]}),Object(U.jsxs)(N.a,{tag:"a",href:"#",className:"w-100",onClick:function(e){e.preventDefault(),ye([t._id])},children:[Object(U.jsx)(f.a,{size:15}),Object(U.jsx)("span",{className:"align-middle ml-50",children:"Delete"})]})]})]}),Object(U.jsx)(p.a,{size:15,onClick:function(){var n=r.find((function(e){return e._id===t._id}));he(n),console.log(n),e(Object(I.lb)())}})]})}}],ve=Z()(V.a),Ce={true:{icon:Object(U.jsx)(D.a,{color:"light-success",icon:Object(U.jsx)(x.a,{size:14})})},false:{icon:Object(U.jsx)(D.a,{color:"light-danger",icon:Object(U.jsx)(h.a,{size:14})})}};Object(l.useEffect)(Object(a.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isVisibleCreatePlan||Se();case 1:case"end":return e.stop()}}),e)}))),[t.isVisibleCreatePlan,ue,se,ne]);var Se=function(){var t=Object(a.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(W.g)(!0)),n=void 0,t.prev=2,t.next=5,F.a.post("/plan/getAll",{pageNumber:ue,pageSize:se,searchStr:X,sort:ne});case 5:n=t.sent,t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),e(Object(W.g)(!1)),b.c.error(Object(U.jsx)("span",{style:{color:"white"},children:t.t0.message}),{transition:b.a,hideProgressBar:!0,autoClose:2e3});case 12:n&&n.data.success&&(Oe(n.data.subscriptionPlans.totalPages),o(n.data.subscriptionPlans.data)),e(Object(W.g)(!1));case 14:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(){return t.apply(this,arguments)}}(),ye=function(){var t=Object(a.a)(Object(c.a)().mark((function t(n){var a;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(W.g)(!0)),t.prev=1,t.next=4,F.a.post("/plan/deletePlans",{ids:n});case 4:if(a=t.sent,e(Object(W.g)(!1)),!a.data.success){t.next=12;break}return t.next=9,ve.fire({title:"Good job!",text:"You deleted subscription plan successfully!",icon:"success",timer:2e3,position:"center",customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1});case 9:Se(),t.next=13;break;case 12:ve.fire({title:"Error!",text:"Something went wrong!",icon:"error",timer:2e3,position:"center",customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1});case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(1),e(Object(W.g)(!1)),b.c.error(Object(U.jsx)("span",{style:{color:"white"},children:t.t0.message}),{transition:b.a,hideProgressBar:!0,autoClose:2e3});case 19:K([]);case 20:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}(),we=function(){var t=Object(a.a)(Object(c.a)().mark((function t(n,a,i){var s;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),e(Object(W.g)(!0)),t.prev=2,t.next=5,F.a.post("/plan/activePlan/".concat(a),{isActive:i});case 5:if(s=t.sent,e(Object(W.g)(!1)),!s.data.success){t.next=13;break}return t.next=10,ve.fire({title:"Good job!",text:"You reserved plan status successfully!",icon:"success",timer:2e3,position:"center",customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1});case 10:Se(),t.next=14;break;case 13:ve.fire({title:"Error!",text:"Something went wrong!",icon:"error",timer:2e3,position:"center",customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1});case 14:t.next=20;break;case 16:t.prev=16,t.t0=t.catch(2),e(Object(W.g)(!1)),b.c.error(Object(U.jsx)("span",{style:{color:"white"},children:t.t0.message}),{transition:b.a,hideProgressBar:!0,autoClose:2e3});case 20:case"end":return t.stop()}}),t,null,[[2,16]])})));return function(e,n,c){return t.apply(this,arguments)}}();return Object(U.jsxs)(l.Fragment,{children:[Object(U.jsxs)(k.a,{children:[Object(U.jsxs)(P.a,{className:"flex-md-row flex-column align-md-items-center align-items-start border-bottom",children:[Object(U.jsxs)(E.a,{children:[Object(U.jsx)(y.a,{color:"secondary",caret:!0,outline:!0,children:Object(U.jsx)("span",{className:"align-middle ml-50",children:"Action"})}),Object(U.jsx)(w.a,{right:!0,children:Object(U.jsx)(N.a,{className:"w-100",onClick:function(){return ye(Y)},children:Object(U.jsx)("span",{className:"align-middle ml-50",children:"Delete"})})})]}),Object(U.jsxs)(A.a,{className:"ml-2",color:"primary",onClick:function(){return e(Object(I.T)())},children:[Object(U.jsx)(g.a,{size:15}),Object(U.jsx)("span",{className:"align-middle ml-50",children:"Create Plan"})]})]}),Object(U.jsxs)(B.a,{className:"justify-content-end mx-0",children:[Object(U.jsx)(L.a,{className:"d-flex align-items-center justify-content-start",md:"6",sm:"12",children:Object(U.jsxs)("div",{className:"d-flex align-items-center",children:[Object(U.jsx)(_.a,{for:"sort-select",className:"mb-0",children:"Rows per page: "}),Object(U.jsxs)(M.a,{className:"dataTable-select",type:"select",id:"sort-select",value:se,onChange:function(e){return re(parseInt(e.target.value))},children:[Object(U.jsx)("option",{value:5,children:"5"}),Object(U.jsx)("option",{value:10,children:"10"}),Object(U.jsx)("option",{value:25,children:"25"}),Object(U.jsx)("option",{value:50,children:"50"}),Object(U.jsx)("option",{value:75,children:"75"}),Object(U.jsx)("option",{value:100,children:"100"})]})]})}),Object(U.jsxs)(L.a,{className:"d-flex align-items-center justify-content-end mt-1",md:"6",sm:"12",children:[Object(U.jsx)(_.a,{className:"mr-1",for:"search-input",children:"Search"}),Object(U.jsx)(M.a,{className:"dataTable-filter mb-50",type:"text",bsSize:"sm",id:"search-input",value:X,onChange:function(e){return $(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&Se()}})]})]}),Object(U.jsx)(j.a,{noHeader:!0,pagination:!0,paginationServer:!0,selectableRows:!0,columns:ge,paginationPerPage:7,className:"react-dataTable",sortIcon:Object(U.jsx)(v.a,{size:10}),paginationDefaultPage:1,paginationComponent:function(){return Object(U.jsx)(u.a,{previousLabel:"",nextLabel:"",breakLabel:"...",pageCount:me||1,marginPagesDisplayed:2,pageRangeDisplayed:2,activeClassName:"active",forcePage:1===ue?0:ue-1,onPageChange:function(e){return de(++e.selected)},pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"})},data:r,selectableRowsComponent:J,onSelectedRowsChange:function(e){return K(e.selectedRows.map((function(e){return e._id})))},onSort:function(e,t){return ce({sortBy:e.selector,sortOrder:t})}})]}),Object(U.jsx)(T.a,{}),Object(U.jsx)(G.a,{onChanged:Se,editingRow:xe,isEdit:!0})]})};n(475),t.default=function(){return Object(U.jsx)(q,{})}},475:function(e,t,n){},510:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var c=n(122),a=n(474),i=n(14),s=n(1),r=(n(511),n(3)),l=function(e){var t=e.data,n=e.onSelected,l=e.displayField,o=e.idField,u=e.filter,d=void 0===u?"":u,j=e.selectedItemList,b=Object(s.useState)([]),m=Object(i.a)(b,2),O=m[0],f=m[1];Object(s.useEffect)((function(){f(j)}),[]);return Object(r.jsx)("div",{style:{maxHeight:300,overflow:"overlay",marginBottom:20},children:t.map((function(e){return e[l].toLowerCase().includes(d.toLowerCase())&&Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"d-flex justify-content-between mb-1 ml-1",children:[Object(r.jsx)("span",{className:"SingleSelect-sub-select",children:e[l]}),Object(r.jsxs)("div",{onClick:function(){return function(e,t){var i=[],s=O.some((function(e){return e[o]===t}));if(s){var r,l=Object(a.a)(O);try{for(l.s();!(r=l.n()).done;)r.value.id!==t&&i.push({title:e,_id:t})}catch(u){l.e(u)}finally{l.f()}}else i=[].concat(Object(c.a)(O),[{title:e,_id:t}]);f(i),n(i)}(e[l],e[o])},children:[!O.some((function(t){return t[o]===e[o]}))&&Object(r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(r.jsx)("path",{d:"M12 2C17.523 2 22 6.477 22 12C22 17.523 17.523 22 12 22C6.477 22 2 17.523 2 12C2 6.477 6.477 2 12 2ZM12 4C9.87827 4 7.84344 4.84285 6.34315 6.34315C4.84285 7.84344 4 9.87827 4 12C4 14.1217 4.84285 16.1566 6.34315 17.6569C7.84344 19.1571 9.87827 20 12 20C14.1217 20 16.1566 19.1571 17.6569 17.6569C19.1571 16.1566 20 14.1217 20 12C20 9.87827 19.1571 7.84344 17.6569 6.34315C16.1566 4.84285 14.1217 4 12 4Z",fill:"#CACACC"})}),O.some((function(t){return t[o]===e[o]}))&&Object(r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(r.jsx)("path",{d:"M12 2C17.523 2 22 6.477 22 12C22 17.523 17.523 22 12 22C6.477 22 2 17.523 2 12C2 6.477 6.477 2 12 2ZM15.535 8.381L10.585 13.331L8.465 11.21C8.37216 11.1171 8.26192 11.0434 8.14059 10.9931C8.01926 10.9428 7.8892 10.9168 7.75785 10.9168C7.49258 10.9167 7.23814 11.022 7.0505 11.2095C6.86286 11.397 6.75739 11.6514 6.7573 11.9166C6.7572 12.1819 6.86249 12.4364 7.05 12.624L9.808 15.382C9.91015 15.4842 10.0314 15.5653 10.1649 15.6206C10.2984 15.6759 10.4415 15.7044 10.586 15.7044C10.7305 15.7044 10.8736 15.6759 11.0071 15.6206C11.1406 15.5653 11.2618 15.4842 11.364 15.382L16.95 9.796C17.1376 9.60836 17.2431 9.35386 17.2431 9.0885C17.2431 8.82314 17.1376 8.56864 16.95 8.381C16.7624 8.19336 16.5079 8.08794 16.2425 8.08794C15.9771 8.08794 15.7226 8.19336 15.535 8.381V8.381Z",fill:"#1E63EE"})})]})]})})}))})}},511:function(e,t,n){},593:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var c=n(122),a=n(474),i=n(14),s=n(1),r=(n(594),n(3)),l=function(e){var t=e.data,n=e.onSelected,l=e.displayField,o=e.idField,u=e.filter,d=void 0===u?"":u,j=Object(s.useState)([]),b=Object(i.a)(j,2),m=b[0],O=b[1];Object(s.useEffect)((function(){O([])}),[]);return Object(r.jsx)("div",{style:{maxHeight:300,overflow:"overlay",marginBottom:20},children:t.map((function(e){return e[l].toLowerCase().includes(d.toLowerCase())&&Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"d-flex justify-content-between mb-1 ml-1",children:[Object(r.jsx)("span",{className:"SingleSelect-sub-select",children:e[l]}),Object(r.jsxs)("div",{onClick:function(){return function(e,t){var i=[],s=m.some((function(e){return e[o]===t}));if(s){var r,l=Object(a.a)(m);try{for(l.s();!(r=l.n()).done;)r.value.id!==t&&i.push({title:e,id:t})}catch(u){l.e(u)}finally{l.f()}}else i=[].concat(Object(c.a)(m),[{title:e,id:t}]);O(i),n(i)}(e[l],e[o])},children:[8!==m.length&&!m.some((function(e){return"exam_success"===e[o]}))&&!m.some((function(t){return t[o]===e[o]}))&&Object(r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(r.jsx)("path",{d:"M12 2C17.523 2 22 6.477 22 12C22 17.523 17.523 22 12 22C6.477 22 2 17.523 2 12C2 6.477 6.477 2 12 2ZM12 4C9.87827 4 7.84344 4.84285 6.34315 6.34315C4.84285 7.84344 4 9.87827 4 12C4 14.1217 4.84285 16.1566 6.34315 17.6569C7.84344 19.1571 9.87827 20 12 20C14.1217 20 16.1566 19.1571 17.6569 17.6569C19.1571 16.1566 20 14.1217 20 12C20 9.87827 19.1571 7.84344 17.6569 6.34315C16.1566 4.84285 14.1217 4 12 4Z",fill:"#CACACC"})}),(8===m.length||m.some((function(e){return"exam_success"===e[o]}))||m.some((function(t){return t[o]===e[o]})))&&Object(r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(r.jsx)("path",{d:"M12 2C17.523 2 22 6.477 22 12C22 17.523 17.523 22 12 22C6.477 22 2 17.523 2 12C2 6.477 6.477 2 12 2ZM15.535 8.381L10.585 13.331L8.465 11.21C8.37216 11.1171 8.26192 11.0434 8.14059 10.9931C8.01926 10.9428 7.8892 10.9168 7.75785 10.9168C7.49258 10.9167 7.23814 11.022 7.0505 11.2095C6.86286 11.397 6.75739 11.6514 6.7573 11.9166C6.7572 12.1819 6.86249 12.4364 7.05 12.624L9.808 15.382C9.91015 15.4842 10.0314 15.5653 10.1649 15.6206C10.2984 15.6759 10.4415 15.7044 10.586 15.7044C10.7305 15.7044 10.8736 15.6759 11.0071 15.6206C11.1406 15.5653 11.2618 15.4842 11.364 15.382L16.95 9.796C17.1376 9.60836 17.2431 9.35386 17.2431 9.0885C17.2431 8.82314 17.1376 8.56864 16.95 8.381C16.7624 8.19336 16.5079 8.08794 16.2425 8.08794C15.9771 8.08794 15.7226 8.19336 15.535 8.381V8.381Z",fill:"#1E63EE"})})]})]})})}))})}},594:function(e,t,n){},633:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var c=n(468),a=n(471),i=n(14),s=n(1684),r=n(1625),l=n(465),o=n(1626),u=n(121),d=n(231),j=n(480),b=n(781),m=(n(704),n(487)),O=n(1),f=n(469),p=n.n(f),x=n(470),h=n.n(x),g=n(472),v=n(491),C=(n(705),n(510),n(593)),S=n(3),y=function(e){var t=e.title,n=e.onSelected,c=Object(u.d)((function(e){return e.modal})),a=Object(u.c)(),o=Object(O.useState)([]),j=Object(i.a)(o,2),b=j[0],m=j[1],f=Object(O.useState)([{id:"exam_success",label:"Exam_success"},{id:"videos",label:"Videos"},{id:"mock_exams",label:"Mock_exams"},{id:"podcasts",label:"Podcasts"},{id:"teachat",label:"Teachat"},{id:"life_skills",label:"Life_skills"},{id:"games",label:"Games"},{id:"seek_counsel",label:"Seek_counsel"},{id:"digiprenuer",label:"Digiprenuer"}]),x=Object(i.a)(f,2),g=x[0],v=(x[1],h()(p.a));return Object(S.jsx)(s.a,{toggle:function(){return a(Object(d.cb)())},isOpen:c.isVisibleModuleSelectModal,className:"modal-dialog-centered modal-sm",children:Object(S.jsxs)(r.a,{toggle:function(){return a(Object(d.cb)())},children:[Object(S.jsx)("h1",{className:"SelectListModal-title mt-2 mb-2",children:t}),Object(S.jsx)(C.a,{idField:"id",displayField:"label",data:g,onSelected:function(e){m(e)}}),Object(S.jsx)("div",{className:"d-flex justify-content-center mt-1",children:Object(S.jsx)(l.a,{color:"gradient-primary",onClick:function(){0!==b.length?(n(b),a(Object(d.cb)(!1))):v.fire({title:"Error",text:"Please select one",icon:"error",timer:2e3,customClass:{confirmButton:"btn btn-danger"},buttonsStyling:!1})},children:"Select"})})]})})},w=(n(706),n(498)),N=function(e){var t=e.data,n=e.title,c=e.onSelected,a=Object(u.d)((function(e){return e.modal})),o=Object(u.c)(),j=Object(O.useState)(""),b=Object(i.a)(j,2),m=b[0],f=b[1],x=h()(p.a),g=Object(O.useState)(""),v=Object(i.a)(g,2),C=v[0],y=v[1];return Object(S.jsx)(s.a,{toggle:function(){return o(Object(d.jb)())},isOpen:a.showStaticSingleSelectModal,className:"modal-dialog-centered modal-sm",children:Object(S.jsxs)(r.a,{toggle:function(){return o(Object(d.jb)())},children:[Object(S.jsx)("h1",{className:"SelectListModal-title mt-2 mb-2",children:n}),Object(S.jsx)(w.a,{selectedId:C,data:t,onSelected:function(e,t){f(e),y(t)},displayField:"title",idField:"id"}),Object(S.jsx)("div",{className:"d-flex justify-content-center mt-1",children:Object(S.jsx)(l.a,{color:"gradient-primary",onClick:function(){""!==m?(c(m,C),o(Object(d.jb)())):x.fire({title:"Error",text:"Please select one",icon:"error",timer:2e3,customClass:{confirmButton:"btn btn-danger"},buttonsStyling:!1})},children:"Select"})})]})})},k=[{value:"full",isFullSubscription:!0,label:"Full Subscription"},{value:"module",isFullSubscription:!1,label:"Module Subscription"}],P=function(e){var t=e.editingRow,n=void 0===t?void 0:t,f=e.isEdit,x=void 0!==f&&f,C=e.onChanged,w=void 0===C?void 0:C,P=h()(p.a),E=Object(u.d)((function(e){return e.modal})),A=Object(u.c)(),B=Object(O.useState)(void 0),L=Object(i.a)(B,2),_=L[0],M=L[1],F=Object(O.useState)(""),D=Object(i.a)(F,2),T=D[0],I=D[1],R=Object(O.useState)(""),z=Object(i.a)(R,2),V=z[0],Y=z[1],Z=Object(O.useState)(""),W=Object(i.a)(Z,2),G=W[0],U=W[1],K=Object(O.useState)(""),H=Object(i.a)(K,2),J=H[0],q=H[1],Q=Object(O.useState)(""),X=Object(i.a)(Q,2),$=X[0],ee=X[1],te=Object(O.useState)([]),ne=Object(i.a)(te,2),ce=ne[0],ae=ne[1],ie=Object(O.useState)([]),se=Object(i.a)(ie,2),re=se[0],le=se[1],oe=Object(O.useState)([]),ue=Object(i.a)(oe,2),de=ue[0],je=ue[1],be=Object(O.useState)(0),me=Object(i.a)(be,2),Oe=me[0],fe=me[1],pe=Object(O.useState)(0),xe=Object(i.a)(pe,2),he=xe[0],ge=xe[1];Object(O.useEffect)((function(){if(n){console.log(n),M(n.isFullSubscription||n.modules.includes("exam_success")),ge(parseInt(n.duration));var e=n.durationType.charAt(0).toUpperCase()+n.durationType.slice(1);Y(e),U(n.durationType),q(n.region),ee(n.region),ae(n.modules.map((function(e){return{id:e,title:e.charAt(0).toUpperCase()+e.slice(1)}}))),fe(parseInt(n.price))}else M(void 0),Y(""),U(""),q(""),ee(""),ae([]),fe(0),ge(0);le([]),je([]),I("duration")}),[n]);var ve=function(){var e=Object(a.a)(Object(c.a)().mark((function e(){var t,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==_&&(_||0!==ce.length)&&0!==he&&0!==Oe&&""!==G&&""!==$){e.next=2;break}return e.abrupt("return",P.fire({title:"Error!",text:"Something went wrong.",icon:"error",timer:2e3,position:"center",customClass:{confirmButton:"btn btn-danger"},buttonsStyling:!1}));case 2:if(!(Oe<400)){e.next=4;break}return e.abrupt("return",P.fire({title:"Error!",text:"Please input price over 400.",icon:"error",timer:2e3,position:"center",customClass:{confirmButton:"btn btn-danger"},buttonsStyling:!1}));case 4:if(t={isFullSubscription:_||ce.some((function(e){return"exam_success"===e.id})),modules:ce.map((function(e){return e.id})),duration:he,durationTypeId:G,region:$,price:Oe},a=void 0,!x){e.next=12;break}return e.next=9,g.a.put("/plan/"+n._id,t);case 9:a=e.sent,e.next=15;break;case 12:return e.next=14,g.a.post("/plan",t);case 14:a=e.sent;case 15:if(!a||!a.data.success){e.next=21;break}return e.next=18,P.fire({title:"Good job!",text:"You added subscription plan successfully!",icon:"success",customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1}).then((function(e){e.value&&A(Object(d.k)())}));case 18:x&&w(),e.next=23;break;case 21:return e.next=23,P.fire({title:"Error!",text:"Something went wrong.",icon:"error",timer:2e3,position:"center",customClass:{confirmButton:"btn btn-danger"},buttonsStyling:!1});case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(s.a,{toggle:function(){return A(Object(d.k)())},isOpen:E.isVisibleSubscriptionPlanModal,className:"modal-dialog-centered",children:[Object(S.jsxs)(r.a,{toggle:function(){return A(Object(d.k)())},children:[Object(S.jsx)("div",{style:{textAlign:"right"},children:Object(S.jsx)(l.a.Ripple,{onClick:function(){return A(Object(d.k)())},className:"btn-icon rounded-circle",color:"flat-danger",children:Object(S.jsx)(b.a,{size:16})})}),Object(S.jsx)("h1",{className:"add-subscription-title",children:x?"Edit Plan":"Create Plan"}),Object(S.jsx)(v.a,{theme:j.f,className:"react-select",classNamePrefix:"select",options:k,isClearable:!1,value:_?k[0]:k[1],placeholder:"Subscription Type",onChange:function(e){M("full"===e.value)}}),Object(S.jsx)("br",{}),!_&&Object(S.jsx)(m.a,{className:"col-12",onClick:function(){A(Object(d.cb)(!0))},text:"Select Module",text1:null===ce||void 0===ce?void 0:ce.map((function(e){return e.title})).join(",")}),Object(S.jsxs)("div",{className:"row mt-2",children:[Object(S.jsx)("div",{className:"col-6",children:Object(S.jsx)(o.a,{type:"text",placeholder:"Duration",value:he,onChange:function(e){return ge(parseInt(e.target.value))}})}),Object(S.jsx)("div",{className:"col-6",children:Object(S.jsx)(m.a,{className:"col-6",onClick:function(){I("duration"),je("Duration Type"),le([{title:"Day",id:"day"},{title:"Week",id:"week"},{title:"Month",id:"month"},{title:"Year",id:"year"}]),A(Object(d.jb)(!0))},text:"Select Duration Type",text1:V})})]}),Object(S.jsxs)("div",{className:"row mt-1",children:[Object(S.jsx)("div",{className:"col-6",children:Object(S.jsx)(o.a,{type:"text",placeholder:"Amount",value:Oe,onChange:function(e){return fe(parseInt(e.target.value))}})}),Object(S.jsx)("div",{className:"col-6",children:Object(S.jsx)(m.a,{className:"col-6",text:"Select Region",onClick:function(){I("region"),je("Region Type"),le([{title:"Nigeria",id:"Nigeria"},{title:"Ghana",id:"Ghana"},{title:"South Africa",id:"South Africa"},{title:"Benin",id:"Benin"},{title:"Cameroon",id:"Cameroon"},{title:"Egypt",id:"Egypt"},{title:"Kenya",id:"Kenya"},{title:"India",id:"India"},{title:"United State",id:"United State"},{title:"United Kingdom",id:"United Kingdom"}]),A(Object(d.jb)(!0))},text1:J})})]}),Object(S.jsx)("div",{className:"d-flex justify-content-center mt-2",children:Object(S.jsx)(l.a,{color:"gradient-primary",onClick:ve,children:"Publish"})})]}),Object(S.jsx)(N,{data:re,title:de,onSelected:function(e,t){"duration"===T?(Y(e),U(t)):(q(e),ee(t))}}),Object(S.jsx)(y,{onSelected:function(e){ae(e)}})]})}},703:function(e,t,n){},704:function(e,t,n){},705:function(e,t,n){},706:function(e,t,n){},763:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var c=n(1684),a=n(1625),i=n(121),s=n(231),r=(n(1),n(629)),l=n(767),o=n(768),u=n(634),d=(n(703),n(633)),j=n(3),b=function(){var e=n(645).default,t=Object(i.c)();return Object(j.jsxs)("div",{className:"create-dialog",children:[Object(j.jsx)("div",{className:"div-2",style:{background:"url(".concat(e,")")}}),Object(j.jsx)("h1",{className:"marketing-automation",children:"Let\u2019s create!"}),Object(j.jsxs)("div",{className:"list",children:[Object(j.jsx)(r.a,{onClick:function(){t(Object(s.lb)())},className:"list-item",icon:Object(j.jsx)(u.a,{className:"icon-instance-node",color:"#8840E6"}),override:Object(j.jsx)(o.a,{className:"icon-instance-node"}),text:"Create subscription plan for app access",text1:"App Subscription Plan"}),Object(j.jsx)(r.a,{onClick:function(){},className:"list-item",icon:Object(j.jsx)(u.a,{className:"icon-instance-node",color:"#8840E6"}),override:Object(j.jsx)(l.a,{className:"icon-instance-node"}),text:"Create event package plan",text1:"Event Package"})]}),Object(j.jsx)(d.a,{})]})},m=function(){var e=Object(i.d)((function(e){return e.modal})),t=Object(i.c)();return Object(j.jsx)(c.a,{toggle:function(){return t(Object(s.g)())},isOpen:e.isVisibleCreatePlan,className:"modal-dialog-centered",children:Object(j.jsx)(a.a,{toggle:function(){return t(Object(s.g)())},children:Object(j.jsx)(b,{})})})}}}]);
//# sourceMappingURL=25.1b00b6ab.chunk.js.map