{"version":3,"sources":["roducate/modals/AddStudyModal/AddStudyModal.js","roducate/pages/study/Study.js","../../src/components/RefTrackerProvider.tsx","../../src/core/eventManager.ts","../../src/hooks/useRefTracker.ts","../../src/core/contextMenu.ts","../../src/hooks/useContextMenu.ts","../../src/components/menuController.ts","../../src/constants.ts","../../src/components/utils.ts","../../src/components/Menu.tsx","../../src/hooks/usePrevious.ts","../../src/components/Item.tsx","roducate/components/ResourceRecentCard/ResourceRecentCard.js"],"names":["AddStudyModal","_ref","study","MySwal","onUpdate","withReactContent","Swal","store","useSelector","state","modal","dispatch","useDispatch","_useState","useState","_useState2","_slicedToArray","level","setLevel","_useState3","_useState4","levelId","setLevelId","_useState5","_useState6","syllabus","setSyllabus","_useState7","_useState8","syllabusId","setSyllabusId","_useState9","_useState10","subjectList","setSubjectList","_useState11","_useState12","subjectSearchStr","setSubjectSearchStr","_useState13","_useState14","topicList","setTopicList","_useState15","_useState16","topicSearchStr","setTopicSearchStr","_useState17","undefined","_useState18","selectedSubject","setSelectedSubject","_useState19","_useState20","selectedTopicList","setSelectedTopicList","useEffect","educationLevel","_useState21","_useState22","getSubjectList","getTopicList","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","abrupt","axios","post","sent","data","stop","apply","arguments","_ref3","_callee2","_context2","subjectId","subject","_id","addSubject","_ref4","_callee3","result","_context3","length","fire","title","text","icon","timer","position","customClass","confirmButton","buttonsStyling","topicIds","map","item","success","then","showAddStudyModal","_jsx","Modal","toggle","isOpen","className","children","_jsxs","ModalBody","style","textAlign","Button","Ripple","onClick","color","X","size","width","height","viewBox","fill","xmlns","d","id","transform","marginRight","src","process","coverImage","creator","firstName","overflowY","maxHeight","createdBy","_toConsumableArray","filter","item1","SelectOutlinedWrapper","showLevelSelectModal","text1","showSyllabusSelectModal","Card","Input","type","placeholder","value","onChange","e","target","toLowerCase","includes","some","concat","LevelSelectModal","onSelected","SyllabusSelectModal","moment","require","BootstrapCheckbox","forwardRef","ref","rest","_objectWithoutProperties","_excluded","_objectSpread","Study","recentData","setRecentData","mediaList","setMediaList","selectedList","setSelectedList","searchStr","setSearchStr","sortBy","sortOrder","sort","setSort","pageSize","setPageSize","pageNumber","setPageNumber","totalPages","setTotalPages","setEditingRow","columns","name","sortable","minWidth","cell","row","subjectTitle","topics","join","Avatar","img","creatorAvatar","imgHeight","imgWidth","status","creatorFirstName","selector","updatedAt","format","allowOverflow","UncontrolledDropdown","DropdownToggle","tag","MoreVertical","DropdownMenu","right","DropdownItem","href","_x","Trash","cursor","preventDefault","deleteMediaList","loadRecentInfo","loadData","t0","showLoadingScreen","studyModules","_ref5","_callee4","_context4","toast","error","message","transition","Slide","hideProgressBar","autoClose","_ref6","_callee6","ids","_context6","showCancelButton","confirmButtonText","cancelButton","_ref7","_callee5","res","_context5","_x3","_x2","Fragment","PlusCircle","class","overflowX","paddingBottom","idx","ResourceRecentCard","des","date","creatorName","onEdit","onDelete","onDuplicate","CardHeader","UncontrolledButtonDropdown","caret","outline","Row","Col","md","sm","Label","for","parseInt","bsSize","onKeyPress","key","DataTable","noHeader","pagination","paginationServer","selectableRows","paginationPerPage","sortIcon","ChevronDown","paginationDefaultPage","paginationComponent","ReactPaginate","previousLabel","nextLabel","breakLabel","pageCount","marginPagesDisplayed","pageRangeDisplayed","activeClassName","forcePage","onPageChange","page","selected","pageClassName","nextLinkClassName","nextClassName","previousClassName","previousLinkClassName","pageLinkClassName","breakClassName","breakLinkClassName","containerClassName","selectableRowsComponent","onSelectedRowsChange","selectedRows","onSort","Context","createContext","useRefTrackerContext","useContext","RefTrackerProvider","props","React","createElement","Provider","refTracker","createEventManager","eventList","Map","on","event","handler","has","_eventList$get","get","add","set","Set","this","off","emit","args","NODE","currentEv","console","forEach","eventManager","useRefTracker","useRef","current","contextMenu","show","nativeEvent","hideAll","useContextMenu","params","createMenuController","focusedIndex","parentNode","isAtRoot","currentItems","menuList","forceCloseSubmenu","focusSelectedItem","node","focus","isFocused","moveDown","closeSubmenu","_menuList$get","isRoot","items","parentFocusedIndex","menuParentNode","classList","remove","clear","init","rootMenu","moveUp","openSubmenu","isSubmenu","submenuItems","Array","from","submenuRefTracker","values","currentNode","NOOP","isFn","v","isStr","cloneItems","Children","toArray","Boolean","cloneElement","getPredicateValue","predicate","payload","reducer","_extends","Menu","theme","animation","_ref$animation","onHidden","_ref$onHidden","onShown","_ref$onShown","_objectWithoutPropertiesLoose","useReducer","x","y","visible","triggerEvent","propsFromTrigger","willLeave","_useReducer","setState","nodeRef","didMount","wasVisible","usePrevious","menuController","stopPropagation","pos","isTouchEvent","changedTouches","clientX","clientY","getMousePosition","setTimeout","hide","button","ctrlKey","exit","hasExitAnimation","_window","window","windowWidth","innerWidth","windowHeight","innerHeight","_nodeRef$current","menuWidth","offsetWidth","menuHeight","offsetHeight","_y","handleKeyboard","addEventListener","removeEventListener","cssClasses","cx","_cx3","_cx","_cx2","enter","computeAnimationClasses","menuStyle","left","top","opacity","Object","assign","onAnimationEnd","role","Item","_ref$onClick","disabled","_ref$disabled","hidden","_ref$hidden","handlerParams","isDisabled","onKeyDown","tabIndex","backgroundColor","padding","borderRadius","minHeight","marginLeft"],"mappings":"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","file":"static/js/28.2ca8fc24.chunk.js","sourcesContent":["import {Button, Card, Input, Modal, ModalBody} from \"reactstrap\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {showAddStudyModal, showLevelSelectModal, showSyllabusSelectModal} from '@store/actions/modal'\r\nimport {X} from \"react-feather\";\r\nimport './AddStudyModal.css'\r\nimport {SelectOutlinedWrapper} from \"../../components/SelectOutlined/SelectOutlinedWrapper\";\r\nimport {LevelSelectModal} from \"../LevelSelectModal/LevelSelectModal\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {SyllabusSelectModal} from \"../SyllabusSelectModal/SyllabusSelectModal\";\r\nimport Swal from 'sweetalert2'\r\nimport withReactContent from \"sweetalert2-react-content\";\r\nimport axios from \"../../../utility/axios\";\r\n\r\nexport const AddStudyModal = ({study, onUpdate}) => {\r\n\r\n    const MySwal = withReactContent(Swal)\r\n\r\n    const store = useSelector(state => state.modal)\r\n    const dispatch = useDispatch()\r\n\r\n    const [level, setLevel] = useState('')\r\n    const [levelId, setLevelId] = useState('')\r\n\r\n    const [syllabus, setSyllabus] = useState('')\r\n    const [syllabusId, setSyllabusId] = useState('')\r\n\r\n    const [subjectList, setSubjectList] = useState([])\r\n    const [subjectSearchStr, setSubjectSearchStr] = useState('')\r\n\r\n    const [topicList, setTopicList] = useState([])\r\n    const [topicSearchStr, setTopicSearchStr] = useState('')\r\n\r\n    const [selectedSubject, setSelectedSubject] = useState(undefined)\r\n    const [selectedTopicList, setSelectedTopicList] = useState([])\r\n\r\n    useEffect(() => {\r\n        if (study) {\r\n            setLevel('')\r\n            setLevelId(study.educationLevel)\r\n\r\n            const [syllabus, setSyllabus] = useState('')\r\n            setSyllabusId(syllabus)\r\n\r\n        } else {\r\n\r\n        }\r\n\r\n        setSubjectSearchStr('')\r\n        setTopicSearchStr('')\r\n\r\n        getSubjectList()\r\n        getTopicList()\r\n    }, [study])\r\n\r\n    useEffect(() => {\r\n        setSubjectSearchStr('')\r\n        setTopicSearchStr('')\r\n        setTopicList([])\r\n        getSubjectList()\r\n    }, [levelId, syllabusId])\r\n\r\n    useEffect(() => {\r\n        setTopicSearchStr('')\r\n        setTopicList([])\r\n        setSelectedTopicList([])\r\n        getTopicList()\r\n    }, [selectedSubject])\r\n\r\n    const getSubjectList = async () => {\r\n        if (levelId === '' || syllabusId === '')\r\n            return\r\n\r\n        const response = await axios.post('/resource/study/getSubjects', {\r\n            syllabus: syllabusId,\r\n            educationLevel: levelId\r\n        })\r\n        if (response) {\r\n            setSubjectList(response.data)\r\n        }\r\n    }\r\n\r\n    const getTopicList = async () => {\r\n        if (levelId === '' || syllabusId === '' || !selectedSubject)\r\n            return\r\n\r\n        const response = await axios.post('/resource/study/getTopics', {\r\n            syllabus: syllabusId,\r\n            educationLevel: levelId,\r\n            subjectId: selectedSubject.subject._id\r\n        })\r\n        if (response && response.data) {\r\n            setTopicList(response.data)\r\n        }\r\n    }\r\n\r\n    const showLevelListModal = () => {\r\n        dispatch(showLevelSelectModal())\r\n    }\r\n\r\n    const showSyllabusListModal = () => {\r\n        dispatch(showSyllabusSelectModal())\r\n    }\r\n\r\n    const onLevelSelected = (title, id) => {\r\n        setLevel(title)\r\n        setLevelId(id)\r\n    }\r\n\r\n    const onSyllabusSelected = (title, id) => {\r\n        setSyllabus(title)\r\n        setSyllabusId(id)\r\n    }\r\n\r\n    const addSubject = async () => {\r\n        if (level === '' || syllabus === '' || !selectedSubject || selectedTopicList.length === 0) {\r\n            return MySwal.fire({\r\n                title: 'Error!',\r\n                text: 'Something went wrong.',\r\n                icon: 'error',\r\n                timer: 2000,\r\n                position: 'center',\r\n                customClass: {\r\n                    confirmButton: 'btn btn-danger'\r\n                },\r\n                buttonsStyling: false\r\n            })\r\n        }\r\n\r\n        const result = await axios.post('/resource/study', {\r\n            syllabus: syllabusId, educationLevel: levelId,\r\n            subjectId: selectedSubject._id, topicIds: selectedTopicList.map(item => item._id)\r\n        });\r\n\r\n        if (result && result.data.success) {\r\n            await MySwal.fire({\r\n                title: 'Good job!',\r\n                text: 'You added study successfully!',\r\n                icon: 'success',\r\n                timer: 2000,\r\n                customClass: {\r\n                    confirmButton: 'btn btn-primary'\r\n                },\r\n                buttonsStyling: false\r\n            }).then(function (result) {\r\n                setLevel('')\r\n                setLevelId('')\r\n\r\n                setSyllabus('')\r\n                setSyllabusId('')\r\n\r\n                setSubjectList([])\r\n                setSubjectSearchStr('')\r\n\r\n                setTopicList([])\r\n                setTopicSearchStr('')\r\n\r\n                setSelectedSubject(undefined)\r\n                setSelectedTopicList([])\r\n\r\n                dispatch(showAddStudyModal())\r\n            })\r\n        } else {\r\n            MySwal.fire({\r\n                title: 'Error!',\r\n                text: 'Something went wrong.',\r\n                icon: 'error',\r\n                timer: 2000,\r\n                position: 'center',\r\n                customClass: {\r\n                    confirmButton: 'btn btn-danger'\r\n                },\r\n                buttonsStyling: false\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Modal toggle={() => dispatch(showAddStudyModal())}\r\n               isOpen={store.showAddStudyModal}\r\n               className=\"modal-dialog-centered modal-lg\"\r\n        >\r\n            <ModalBody toggle={() => dispatch(showAddStudyModal())}>\r\n                <div style={{textAlign: 'right'}}>\r\n                    <Button.Ripple onClick={() => dispatch(showAddStudyModal())} className='btn-icon rounded-circle'\r\n                                   color='flat-danger'>\r\n                        <X size={16}/>\r\n                    </Button.Ripple>\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <div className=\"col-6\">\r\n                        <p className=\"study-sub-title\">SUBJECT</p>\r\n                        <div className=\"p-2 text-center align-items-center sub-title-stud-back\">\r\n                            {!selectedSubject && <div>\r\n                                <svg width=\"52\" height=\"51\" viewBox=\"0 0 52 51\" fill=\"none\"\r\n                                     xmlns=\"http://www.w3.org/2000/svg\">\r\n                                    <g clip-path=\"url(#clip0_3771_90385)\">\r\n                                        <path\r\n                                            d=\"M26 4.58496C37.7364 4.58496 47.25 13.912 47.25 25.4183C47.25 36.9245 37.7364 46.2516 26 46.2516C14.2636 46.2516 4.75 36.9245 4.75 25.4183C4.75 13.912 14.2636 4.58496 26 4.58496ZM26 8.75163C21.4913 8.75163 17.1673 10.5076 13.9792 13.6332C10.7911 16.7588 9 20.998 9 25.4183C9 29.8386 10.7911 34.0778 13.9792 37.2034C17.1673 40.329 21.4913 42.085 26 42.085C30.5087 42.085 34.8327 40.329 38.0208 37.2034C41.2089 34.0778 43 29.8386 43 25.4183C43 20.998 41.2089 16.7588 38.0208 13.6332C34.8327 10.5076 30.5087 8.75163 26 8.75163ZM26 15.0016C26.5636 15.0016 27.1041 15.2211 27.5026 15.6118C27.9011 16.0025 28.125 16.5324 28.125 17.085V23.335H34.5C35.0636 23.335 35.6041 23.5545 36.0026 23.9452C36.4011 24.3359 36.625 24.8658 36.625 25.4183C36.625 25.9708 36.4011 26.5007 36.0026 26.8914C35.6041 27.2821 35.0636 27.5016 34.5 27.5016H28.125V33.7516C28.125 34.3042 27.9011 34.8341 27.5026 35.2248C27.1041 35.6155 26.5636 35.835 26 35.835C25.4364 35.835 24.8959 35.6155 24.4974 35.2248C24.0989 34.8341 23.875 34.3042 23.875 33.7516V27.5016H17.5C16.9364 27.5016 16.3959 27.2821 15.9974 26.8914C15.5989 26.5007 15.375 25.9708 15.375 25.4183C15.375 24.8658 15.5989 24.3359 15.9974 23.9452C16.3959 23.5545 16.9364 23.335 17.5 23.335H23.875V17.085C23.875 16.5324 24.0989 16.0025 24.4974 15.6118C24.8959 15.2211 25.4364 15.0016 26 15.0016Z\"\r\n                                            fill=\"#8172EA\" fill-opacity=\"0.5\"/>\r\n                                    </g>\r\n                                    <defs>\r\n                                        <clipPath id=\"clip0_3771_90385\">\r\n                                            <rect width=\"51\" height=\"50\" fill=\"white\"\r\n                                                  transform=\"translate(0.5 0.418213)\"/>\r\n                                        </clipPath>\r\n                                    </defs>\r\n                                </svg>\r\n                                <p className=\"mt-1 sub-sub-tile\">Add a subject here</p>\r\n                                <p className=\"mb-0 sub-sub-des\">E.g., English Language, Mathematics.</p>\r\n                            </div>}\r\n                            {selectedSubject && <div\r\n                                className=\"d-flex justify-content-between p-1 add-item-study align-items-center cursor-pointer\">\r\n                                <div className=\"d-flex\">\r\n                                    <img style={{height: '40px', width: '40px', marginRight: 10}}\r\n                                         src={process.env.REACT_APP_3BUCKET_URL + selectedSubject.subject.coverImage}/>\r\n                                    <div>\r\n                                        <p className=\"mb-0 text-left\">{selectedSubject.subject.title}</p>\r\n                                        <p className=\"mb-0 text-left\">Added by {selectedSubject.creator.firstName}</p>\r\n                                    </div>\r\n                                </div>\r\n                                <svg\r\n                                    onClick={() => setSelectedSubject(undefined)}\r\n                                    width=\"24\" height=\"25\"\r\n                                    style={{transform: 'rotate(45deg)'}}\r\n                                    viewBox=\"0 0 24 25\" fill=\"none\"\r\n                                    xmlns=\"http://www.w3.org/2000/svg\">\r\n                                    <path\r\n                                        d=\"M12 2.33643C17.523 2.33643 22 6.81343 22 12.3364C22 17.8594 17.523 22.3364 12 22.3364C6.477 22.3364 2 17.8594 2 12.3364C2 6.81343 6.477 2.33643 12 2.33643ZM12 4.33643C9.87827 4.33643 7.84344 5.17928 6.34315 6.67957C4.84285 8.17986 4 10.2147 4 12.3364C4 14.4582 4.84285 16.493 6.34315 17.9933C7.84344 19.4936 9.87827 20.3364 12 20.3364C14.1217 20.3364 16.1566 19.4936 17.6569 17.9933C19.1571 16.493 20 14.4582 20 12.3364C20 10.2147 19.1571 8.17986 17.6569 6.67957C16.1566 5.17928 14.1217 4.33643 12 4.33643ZM12 7.33643C12.2652 7.33643 12.5196 7.44178 12.7071 7.62932C12.8946 7.81686 13 8.07121 13 8.33643V11.3364H16C16.2652 11.3364 16.5196 11.4418 16.7071 11.6293C16.8946 11.8169 17 12.0712 17 12.3364C17 12.6016 16.8946 12.856 16.7071 13.0435C16.5196 13.2311 16.2652 13.3364 16 13.3364H13V16.3364C13 16.6016 12.8946 16.856 12.7071 17.0435C12.5196 17.2311 12.2652 17.3364 12 17.3364C11.7348 17.3364 11.4804 17.2311 11.2929 17.0435C11.1054 16.856 11 16.6016 11 16.3364V13.3364H8C7.73478 13.3364 7.48043 13.2311 7.29289 13.0435C7.10536 12.856 7 12.6016 7 12.3364C7 12.0712 7.10536 11.8169 7.29289 11.6293C7.48043 11.4418 7.73478 11.3364 8 11.3364H11V8.33643C11 8.07121 11.1054 7.81686 11.2929 7.62932C11.4804 7.44178 11.7348 7.33643 12 7.33643Z\"\r\n                                        fill=\"#e760e6\"/>\r\n                                </svg>\r\n                            </div>}\r\n                        </div>\r\n                        <hr/>\r\n                        <p className=\"study-sub-title\">TOPICS</p>\r\n                        <div className=\"p-2 text-center align-items-center sub-title-stud-back\"\r\n                             style={{height: 200}}>\r\n                            {selectedTopicList.length === 0 &&\r\n                                <div className=\"full-height justify-content-center align-items-center d-flex\">\r\n                                    <div>\r\n                                        <svg width=\"52\" height=\"51\" viewBox=\"0 0 52 51\" fill=\"none\"\r\n                                             xmlns=\"http://www.w3.org/2000/svg\">\r\n                                            <g clip-path=\"url(#clip0_3771_90385)\">\r\n                                                <path\r\n                                                    d=\"M26 4.58496C37.7364 4.58496 47.25 13.912 47.25 25.4183C47.25 36.9245 37.7364 46.2516 26 46.2516C14.2636 46.2516 4.75 36.9245 4.75 25.4183C4.75 13.912 14.2636 4.58496 26 4.58496ZM26 8.75163C21.4913 8.75163 17.1673 10.5076 13.9792 13.6332C10.7911 16.7588 9 20.998 9 25.4183C9 29.8386 10.7911 34.0778 13.9792 37.2034C17.1673 40.329 21.4913 42.085 26 42.085C30.5087 42.085 34.8327 40.329 38.0208 37.2034C41.2089 34.0778 43 29.8386 43 25.4183C43 20.998 41.2089 16.7588 38.0208 13.6332C34.8327 10.5076 30.5087 8.75163 26 8.75163ZM26 15.0016C26.5636 15.0016 27.1041 15.2211 27.5026 15.6118C27.9011 16.0025 28.125 16.5324 28.125 17.085V23.335H34.5C35.0636 23.335 35.6041 23.5545 36.0026 23.9452C36.4011 24.3359 36.625 24.8658 36.625 25.4183C36.625 25.9708 36.4011 26.5007 36.0026 26.8914C35.6041 27.2821 35.0636 27.5016 34.5 27.5016H28.125V33.7516C28.125 34.3042 27.9011 34.8341 27.5026 35.2248C27.1041 35.6155 26.5636 35.835 26 35.835C25.4364 35.835 24.8959 35.6155 24.4974 35.2248C24.0989 34.8341 23.875 34.3042 23.875 33.7516V27.5016H17.5C16.9364 27.5016 16.3959 27.2821 15.9974 26.8914C15.5989 26.5007 15.375 25.9708 15.375 25.4183C15.375 24.8658 15.5989 24.3359 15.9974 23.9452C16.3959 23.5545 16.9364 23.335 17.5 23.335H23.875V17.085C23.875 16.5324 24.0989 16.0025 24.4974 15.6118C24.8959 15.2211 25.4364 15.0016 26 15.0016Z\"\r\n                                                    fill=\"#8172EA\" fill-opacity=\"0.5\"/>\r\n                                            </g>\r\n                                            <defs>\r\n                                                <clipPath id=\"clip0_3771_90385\">\r\n                                                    <rect width=\"51\" height=\"50\" fill=\"white\"\r\n                                                          transform=\"translate(0.5 0.418213)\"/>\r\n                                                </clipPath>\r\n                                            </defs>\r\n                                        </svg>\r\n                                        <p className=\"mt-1 sub-sub-tile\">Add topics here</p>\r\n                                        <p className=\"mb-0 sub-sub-des\">You can add multiple topics in a\r\n                                            subject</p>\r\n                                    </div>\r\n                                </div>}\r\n                            {selectedTopicList.length !== 0 && <div style={{overflowY: 'auto', maxHeight: '100%'}}>\r\n                                {selectedTopicList.map(item => <div\r\n                                    className=\"d-flex justify-content-between p-1 add-item-study align-items-center cursor-pointer\">\r\n                                    <div className=\"d-flex align-items-center\">\r\n                                        <svg style={{marginRight: 10}} width=\"24\" height=\"25\"\r\n                                             viewBox=\"0 0 24 25\" fill=\"none\"\r\n                                             xmlns=\"http://www.w3.org/2000/svg\">\r\n                                            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\r\n                                                  d=\"M10 3.33643C10.667 3.33643 11.333 3.58943 12 4.09643C12.667 3.58943 13.333 3.33643 14 3.33643H20C20.5304 3.33643 21.0391 3.54714 21.4142 3.92221C21.7893 4.29728 22 4.80599 22 5.33643V18.3364C22 18.8669 21.7893 19.3756 21.4142 19.7506C21.0391 20.1257 20.5304 20.3364 20 20.3364H13C13 20.8884 12.55 21.3364 12 21.3364C11.45 21.3364 11 20.8864 11 20.3364H4C3.46957 20.3364 2.96086 20.1257 2.58579 19.7506C2.21071 19.3756 2 18.8669 2 18.3364V5.33643C2 4.80599 2.21071 4.29728 2.58579 3.92221C2.96086 3.54714 3.46957 3.33643 4 3.33643H10ZM10 5.33643H4V18.3364H11V6.33643C11 5.78643 10.55 5.33643 10 5.33643ZM20 5.33643H14C13.45 5.33643 13 5.78643 13 6.33643V18.3364H20V5.33643Z\"\r\n                                                  fill=\"#8840E6\"/>\r\n                                        </svg>\r\n                                        <div>\r\n                                            <p className=\"mb-0 text-left\">{item.title}</p>\r\n                                            <p className=\"mb-0 text-left\">Added by {item.createdBy}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <svg\r\n                                        onClick={() => setSelectedTopicList([...selectedTopicList.filter(item1 => item1._id !== item._id)])}\r\n                                        width=\"24\" height=\"25\"\r\n                                        style={{transform: 'rotate(45deg)'}}\r\n                                        viewBox=\"0 0 24 25\" fill=\"none\"\r\n                                        xmlns=\"http://www.w3.org/2000/svg\">\r\n                                        <path\r\n                                            d=\"M12 2.33643C17.523 2.33643 22 6.81343 22 12.3364C22 17.8594 17.523 22.3364 12 22.3364C6.477 22.3364 2 17.8594 2 12.3364C2 6.81343 6.477 2.33643 12 2.33643ZM12 4.33643C9.87827 4.33643 7.84344 5.17928 6.34315 6.67957C4.84285 8.17986 4 10.2147 4 12.3364C4 14.4582 4.84285 16.493 6.34315 17.9933C7.84344 19.4936 9.87827 20.3364 12 20.3364C14.1217 20.3364 16.1566 19.4936 17.6569 17.9933C19.1571 16.493 20 14.4582 20 12.3364C20 10.2147 19.1571 8.17986 17.6569 6.67957C16.1566 5.17928 14.1217 4.33643 12 4.33643ZM12 7.33643C12.2652 7.33643 12.5196 7.44178 12.7071 7.62932C12.8946 7.81686 13 8.07121 13 8.33643V11.3364H16C16.2652 11.3364 16.5196 11.4418 16.7071 11.6293C16.8946 11.8169 17 12.0712 17 12.3364C17 12.6016 16.8946 12.856 16.7071 13.0435C16.5196 13.2311 16.2652 13.3364 16 13.3364H13V16.3364C13 16.6016 12.8946 16.856 12.7071 17.0435C12.5196 17.2311 12.2652 17.3364 12 17.3364C11.7348 17.3364 11.4804 17.2311 11.2929 17.0435C11.1054 16.856 11 16.6016 11 16.3364V13.3364H8C7.73478 13.3364 7.48043 13.2311 7.29289 13.0435C7.10536 12.856 7 12.6016 7 12.3364C7 12.0712 7.10536 11.8169 7.29289 11.6293C7.48043 11.4418 7.73478 11.3364 8 11.3364H11V8.33643C11 8.07121 11.1054 7.81686 11.2929 7.62932C11.4804 7.44178 11.7348 7.33643 12 7.33643Z\"\r\n                                            fill=\"#e760e6\"/>\r\n                                    </svg>\r\n                                </div>)}\r\n                            </div>}\r\n                        </div>\r\n\r\n                        <br/>\r\n\r\n                        <SelectOutlinedWrapper onClick={showLevelListModal} text=\"Educational Level & Class\"\r\n                                               text1={level}/>\r\n                        <br/>\r\n                        <SelectOutlinedWrapper onClick={showSyllabusListModal} text=\"Syllabus\" text1={syllabus}/>\r\n                        <br/>\r\n\r\n                        <div className=\"d-flex justify-content-center\">\r\n                            <Button color='gradient-primary' onClick={addSubject}>SAVE</Button>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div className=\"col-6\">\r\n                        <div style={{height: '45%'}} className=\"mb-1\">\r\n                            <Card style={{maxHeight: '250px', height: '100%'}} className=\"p-1\">\r\n                                <Input type=\"text\" placeholder=\"Search subjects\" value={subjectSearchStr}\r\n                                       onChange={(e) => setSubjectSearchStr(e.target.value)}/>\r\n                                <p className=\"mt-1\">SUBJECTS</p>\r\n                                <div className=\"full-height\" style={{overflowY: 'auto'}}>\r\n                                    {subjectList.filter((item1) => item1.subject.title.toLowerCase().includes(subjectSearchStr.toLowerCase()))\r\n                                        .map((item) => <div\r\n                                            className=\"d-flex justify-content-between p-1 add-item-study align-items-center cursor-pointer\">\r\n                                            <div className=\"d-flex\">\r\n                                                <img style={{height: '40px', width: '40px', marginRight: 10}}\r\n                                                     src={process.env.REACT_APP_3BUCKET_URL + item.subject.coverImage}/>\r\n                                                <div>\r\n                                                    <p className=\"mb-0\">{item.subject.title}</p>\r\n                                                    <p className=\"mb-0\">Added by {item.creator.firstName}</p>\r\n                                                </div>\r\n                                            </div>\r\n                                            <svg onClick={() => setSelectedSubject(item)} width=\"24\" height=\"25\"\r\n                                                 viewBox=\"0 0 24 25\" fill=\"none\"\r\n                                                 xmlns=\"http://www.w3.org/2000/svg\">\r\n                                                <path\r\n                                                    d=\"M12 2.33643C17.523 2.33643 22 6.81343 22 12.3364C22 17.8594 17.523 22.3364 12 22.3364C6.477 22.3364 2 17.8594 2 12.3364C2 6.81343 6.477 2.33643 12 2.33643ZM12 4.33643C9.87827 4.33643 7.84344 5.17928 6.34315 6.67957C4.84285 8.17986 4 10.2147 4 12.3364C4 14.4582 4.84285 16.493 6.34315 17.9933C7.84344 19.4936 9.87827 20.3364 12 20.3364C14.1217 20.3364 16.1566 19.4936 17.6569 17.9933C19.1571 16.493 20 14.4582 20 12.3364C20 10.2147 19.1571 8.17986 17.6569 6.67957C16.1566 5.17928 14.1217 4.33643 12 4.33643ZM12 7.33643C12.2652 7.33643 12.5196 7.44178 12.7071 7.62932C12.8946 7.81686 13 8.07121 13 8.33643V11.3364H16C16.2652 11.3364 16.5196 11.4418 16.7071 11.6293C16.8946 11.8169 17 12.0712 17 12.3364C17 12.6016 16.8946 12.856 16.7071 13.0435C16.5196 13.2311 16.2652 13.3364 16 13.3364H13V16.3364C13 16.6016 12.8946 16.856 12.7071 17.0435C12.5196 17.2311 12.2652 17.3364 12 17.3364C11.7348 17.3364 11.4804 17.2311 11.2929 17.0435C11.1054 16.856 11 16.6016 11 16.3364V13.3364H8C7.73478 13.3364 7.48043 13.2311 7.29289 13.0435C7.10536 12.856 7 12.6016 7 12.3364C7 12.0712 7.10536 11.8169 7.29289 11.6293C7.48043 11.4418 7.73478 11.3364 8 11.3364H11V8.33643C11 8.07121 11.1054 7.81686 11.2929 7.62932C11.4804 7.44178 11.7348 7.33643 12 7.33643Z\"\r\n                                                    fill=\"#8840E6\"/>\r\n                                            </svg>\r\n                                        </div>)}\r\n                                    {subjectList.length === 0 &&\r\n                                        <div className=\"d-flex justify-content-center align-items-center full-height\">\r\n                                            <span>Please choose educational level and syllabus</span>\r\n                                        </div>}\r\n                                </div>\r\n                            </Card>\r\n                        </div>\r\n                        <div style={{height: '45%'}}>\r\n                            <Card style={{maxHeight: '250px', height: '100%'}} className=\"p-1\">\r\n                                <Input type=\"text\" placeholder=\"Search topics\" value={topicSearchStr}\r\n                                       onChange={(e) => setTopicSearchStr(e.target.value)}/>\r\n                                <p className=\"mt-1\">TOPICS</p>\r\n                                <div className=\"full-height\" style={{overflowY: 'auto'}}>\r\n                                    {topicList?.filter((item1) => item1.title.toLowerCase().includes(topicSearchStr.toLowerCase()))\r\n                                        .map((item) => <div\r\n                                            className=\"d-flex justify-content-between p-1 add-item-study align-items-center cursor-pointer\">\r\n                                            <div className=\"d-flex align-items-center\">\r\n                                                <svg style={{marginRight: 10}} width=\"24\" height=\"25\"\r\n                                                     viewBox=\"0 0 24 25\" fill=\"none\"\r\n                                                     xmlns=\"http://www.w3.org/2000/svg\">\r\n                                                    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\r\n                                                          d=\"M10 3.33643C10.667 3.33643 11.333 3.58943 12 4.09643C12.667 3.58943 13.333 3.33643 14 3.33643H20C20.5304 3.33643 21.0391 3.54714 21.4142 3.92221C21.7893 4.29728 22 4.80599 22 5.33643V18.3364C22 18.8669 21.7893 19.3756 21.4142 19.7506C21.0391 20.1257 20.5304 20.3364 20 20.3364H13C13 20.8884 12.55 21.3364 12 21.3364C11.45 21.3364 11 20.8864 11 20.3364H4C3.46957 20.3364 2.96086 20.1257 2.58579 19.7506C2.21071 19.3756 2 18.8669 2 18.3364V5.33643C2 4.80599 2.21071 4.29728 2.58579 3.92221C2.96086 3.54714 3.46957 3.33643 4 3.33643H10ZM10 5.33643H4V18.3364H11V6.33643C11 5.78643 10.55 5.33643 10 5.33643ZM20 5.33643H14C13.45 5.33643 13 5.78643 13 6.33643V18.3364H20V5.33643Z\"\r\n                                                          fill=\"#8840E6\"/>\r\n                                                </svg>\r\n                                                <div>\r\n                                                    <p className=\"mb-0\">{item.title}</p>\r\n                                                    <p className=\"mb-0\">Added by {item.createdBy}</p>\r\n                                                </div>\r\n                                            </div>\r\n                                            <svg\r\n                                                onClick={() => !selectedTopicList.some(item1 => item1._id === item._id) && setSelectedTopicList([...selectedTopicList, item])}\r\n                                                width=\"24\" height=\"25\"\r\n                                                viewBox=\"0 0 24 25\" fill=\"none\"\r\n                                                xmlns=\"http://www.w3.org/2000/svg\">\r\n                                                <path\r\n                                                    d=\"M12 2.33643C17.523 2.33643 22 6.81343 22 12.3364C22 17.8594 17.523 22.3364 12 22.3364C6.477 22.3364 2 17.8594 2 12.3364C2 6.81343 6.477 2.33643 12 2.33643ZM12 4.33643C9.87827 4.33643 7.84344 5.17928 6.34315 6.67957C4.84285 8.17986 4 10.2147 4 12.3364C4 14.4582 4.84285 16.493 6.34315 17.9933C7.84344 19.4936 9.87827 20.3364 12 20.3364C14.1217 20.3364 16.1566 19.4936 17.6569 17.9933C19.1571 16.493 20 14.4582 20 12.3364C20 10.2147 19.1571 8.17986 17.6569 6.67957C16.1566 5.17928 14.1217 4.33643 12 4.33643ZM12 7.33643C12.2652 7.33643 12.5196 7.44178 12.7071 7.62932C12.8946 7.81686 13 8.07121 13 8.33643V11.3364H16C16.2652 11.3364 16.5196 11.4418 16.7071 11.6293C16.8946 11.8169 17 12.0712 17 12.3364C17 12.6016 16.8946 12.856 16.7071 13.0435C16.5196 13.2311 16.2652 13.3364 16 13.3364H13V16.3364C13 16.6016 12.8946 16.856 12.7071 17.0435C12.5196 17.2311 12.2652 17.3364 12 17.3364C11.7348 17.3364 11.4804 17.2311 11.2929 17.0435C11.1054 16.856 11 16.6016 11 16.3364V13.3364H8C7.73478 13.3364 7.48043 13.2311 7.29289 13.0435C7.10536 12.856 7 12.6016 7 12.3364C7 12.0712 7.10536 11.8169 7.29289 11.6293C7.48043 11.4418 7.73478 11.3364 8 11.3364H11V8.33643C11 8.07121 11.1054 7.81686 11.2929 7.62932C11.4804 7.44178 11.7348 7.33643 12 7.33643Z\"\r\n                                                    fill=\"#8840E6\"/>\r\n                                            </svg>\r\n                                        </div>)}\r\n                                    {topicList?.length === 0 &&\r\n                                        <div className=\"d-flex justify-content-center align-items-center full-height\">\r\n                                            <span>{selectedSubject ? 'No topic on this subject' : 'Please choose subject'}</span>\r\n                                        </div>}\r\n                                </div>\r\n                            </Card>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <LevelSelectModal title=\"Educational Level & Class\" onSelected={onLevelSelected}/>\r\n\r\n                <SyllabusSelectModal title=\"Syllabus\" onSelected={onSyllabusSelected}/>\r\n\r\n            </ModalBody>\r\n        </Modal>\r\n    );\r\n};","// ** React Imports\nimport React, {forwardRef, Fragment, useEffect, useState} from 'react'\nimport '@styles/react/libs/tables/react-dataTable-component.scss'\n\n// ** Third Party Components\nimport ReactPaginate from 'react-paginate'\nimport DataTable from 'react-data-table-component'\nimport {Slide, toast} from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'; // import the CSS file for styling\nimport {ChevronDown, MoreVertical, PlusCircle, Trash} from 'react-feather'\nimport {\n    Button,\n    Card,\n    CardHeader,\n    Col,\n    DropdownItem,\n    DropdownMenu,\n    DropdownToggle,\n    Input,\n    Label,\n    Row,\n    UncontrolledButtonDropdown,\n    UncontrolledDropdown\n} from 'reactstrap'\nimport axios from \"../../../utility/axios\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport Swal from 'sweetalert2'\nimport withReactContent from \"sweetalert2-react-content\";\nimport {showLoadingScreen} from '@store/actions/layout'\nimport './Study.css'\nimport Avatar from \"../../../@core/components/avatar\";\nimport {AddStudyModal} from \"../../modals/AddStudyModal/AddStudyModal\";\nimport {showAddStudyModal} from \"../../../redux/actions/modal\";\nimport ResourceRecentCard from \"../../components/ResourceRecentCard/ResourceRecentCard\";\nimport 'react-contexify/dist/ReactContexify.min.css'\nimport '@styles/react/libs/context-menu/context-menu.scss'\n\nconst moment = require('moment');\n\n// ** Bootstrap Checkbox Component\nconst BootstrapCheckbox = forwardRef(({onClick, ...rest}, ref) => (\n    <div className='custom-control custom-checkbox'>\n        <input type='checkbox' className='custom-control-input' ref={ref} {...rest} />\n        <label className='custom-control-label' onClick={onClick}/>\n    </div>\n))\n\nconst Study = () => {\n    const dispatch = useDispatch()\n    const store = useSelector(state => state.modal)\n\n    const MySwal = withReactContent(Swal)\n\n    const [recentData, setRecentData] = useState([])\n\n    // data table model\n    const [mediaList, setMediaList] = useState([])\n    const [selectedList, setSelectedList] = useState([])\n\n    // data table rendering\n    const [searchStr, setSearchStr] = useState('')\n    const [sort, setSort] = useState({sortBy: '_id', sortOrder: 'asc'})\n    const [pageSize, setPageSize] = useState(5)\n    const [pageNumber, setPageNumber] = useState(1)\n    const [totalPages, setTotalPages] = useState(1)\n\n    // data table operation (edit, delete)\n    const [editingRow, setEditingRow] = useState(undefined)\n\n    const columns = [\n        {\n            name: 'Subject(s)',\n            sortable: true,\n            minWidth: '300px',\n            cell: row => {\n                return (\n                    <div className=\"d-flex align-items-center\">\n                        <span className=\"datatable-first-column\">{row.subjectTitle}</span>\n                    </div>\n                )\n            }\n        },\n        {\n            name: 'Topics',\n            sortable: true,\n            minWidth: '300px',\n            cell: row => {\n                return (\n                    <div className=\"d-flex align-items-center\">\n                        <span>{row.topics.join(', ')}</span>\n                    </div>\n                )\n            }\n        },\n        {\n            name: 'Created by',\n            sortable: true,\n            minWidth: '100px',\n            cell: row => {\n                return (\n                    <div className=\"d-flex align-items-center justify-content-center\">\n                        <Avatar img={`${process.env.REACT_APP_3BUCKET_URL}${row.creatorAvatar}`}\n                                imgHeight='30' imgWidth='30' status='online'/>&nbsp;\n                        <span>{row.creatorFirstName}</span>\n                    </div>\n                )\n            }\n        },\n        {\n            name: 'Level',\n            selector: 'educationLevel.title',\n            sortable: true,\n            minWidth: '50px'\n        },\n        {\n            name: 'Last updated',\n            selector: 'updatedAt',\n            sortable: true,\n            minWidth: '200px',\n            cell: row => {\n                return <div>{moment(row.updatedAt).format('DD MMM YYYY h:mm A')}</div>\n            }\n        },\n        {\n            name: 'Actions',\n            allowOverflow: true,\n            cell: row => {\n                return (\n                    <div className='d-flex'>\n                        <UncontrolledDropdown>\n                            <DropdownToggle className='pr-1' tag='span'>\n                                <MoreVertical size={15}/>\n                            </DropdownToggle>\n                            <DropdownMenu right>\n                                <DropdownItem tag='a' href='#' className='w-100'\n                                              onClick={async (e) => {\n                                                  setEditingRow(row)\n                                                  dispatch(showAddStudyModal(true))\n                                              }}>\n                                    <span className='align-middle ml-50'>Edit</span>\n                                </DropdownItem>\n                            </DropdownMenu>\n                        </UncontrolledDropdown>\n                        <Trash size={15} style={{cursor: 'pointer'}} onClick={(e) => {\n                            e.preventDefault()\n                            deleteMediaList([row._id])\n                        }}/>\n                    </div>\n                )\n            }\n        }\n    ]\n\n    useEffect(async () => {\n        loadRecentInfo()\n        loadData()\n    }, [pageNumber, pageSize, sort])\n\n    const loadRecentInfo = async () => {\n        let response = undefined\n        try {\n            response = await axios.post('/resource/study/getAllStudyModules', {\n                pageNumber: 1,\n                pageSize: 5,\n                searchStr: ''\n            })\n        } catch (e) {\n            dispatch(showLoadingScreen(false))\n        }\n        if (response && response.data.success) {\n            setRecentData(response.data.studyModules.data)\n        }\n    }\n\n    const loadData = async () => {\n        dispatch(showLoadingScreen(true))\n        let response = undefined\n        try {\n            response = await axios.post('/resource/study/getAllStudyModules', {pageNumber, pageSize, searchStr, sort})\n        } catch (e) {\n            dispatch(showLoadingScreen(false))\n\n            toast.error(<span style={{color: 'white'}}>{e.message}</span>, {\n                transition: Slide,\n                hideProgressBar: true,\n                autoClose: 2000\n            })\n        }\n        if (response && response.data.success) {\n            setTotalPages(response.data.studyModules.totalPages)\n            setMediaList(response.data.studyModules.data)\n        }\n\n        dispatch(showLoadingScreen(false))\n    }\n\n    const deleteMediaList = async (ids) => {\n        await MySwal.fire({\n            title: 'Oh No, Delete',\n            text: \"Do you want to delete this content?\",\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonText: 'Delete',\n            customClass: {\n                confirmButton: 'btn btn-primary',\n                cancelButton: 'btn btn-outline-danger ml-1'\n            },\n            buttonsStyling: false\n        }).then(async function (result) {\n            if (result.value) {\n                dispatch(showLoadingScreen(true))\n                try {\n                    const res = await axios.post(`/resource/study/deleteStudyModules`, {ids})\n                    dispatch(showLoadingScreen(false))\n                    if (res.data.success) {\n                        await MySwal.fire({\n                            title: 'Good job!',\n                            text: 'You deleted study module successfully!',\n                            icon: 'success',\n                            timer: 2000,\n                            position: 'center',\n                            customClass: {\n                                confirmButton: 'btn btn-primary'\n                            },\n                            buttonsStyling: false\n                        })\n                        loadData()\n                    } else {\n                        MySwal.fire({\n                            title: 'Error!',\n                            text: 'Something went wrong!',\n                            icon: 'error',\n                            timer: 2000,\n                            position: 'center',\n                            customClass: {\n                                confirmButton: 'btn btn-primary'\n                            },\n                            buttonsStyling: false\n                        })\n                    }\n                } catch (e) {\n                    dispatch(showLoadingScreen(false))\n                    toast.error(<span style={{color: 'white'}}>{e.message}</span>, {\n                        transition: Slide,\n                        hideProgressBar: true,\n                        autoClose: 2000\n                    })\n                }\n                setSelectedList([])\n            }\n        })\n    }\n\n    // ** Custom Pagination\n    const CustomPagination = () => {\n        return (\n            <ReactPaginate\n                previousLabel={''}\n                nextLabel={''}\n                breakLabel='...'\n                pageCount={totalPages || 1}\n                marginPagesDisplayed={2}\n                pageRangeDisplayed={2}\n                activeClassName='active'\n                forcePage={pageNumber === 1 ? 0 : pageNumber - 1}\n                onPageChange={page => setPageNumber(++page.selected)}\n                pageClassName={'page-item'}\n                nextLinkClassName={'page-link'}\n                nextClassName={'page-item next'}\n                previousClassName={'page-item prev'}\n                previousLinkClassName={'page-link'}\n                pageLinkClassName={'page-link'}\n                breakClassName='page-item'\n                breakLinkClassName='page-link'\n                containerClassName={\n                    'pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1'\n                }\n            />\n        )\n    }\n\n    return (\n        <Fragment>\n            <div>\n                <div className=\"d-flex justify-content-between mb-2\">\n                    <span className=\"video-head-text\">Recently Added</span>\n                    <Button className='ml-2' color='primary' onClick={() => dispatch(showAddStudyModal(true))}>\n                        <PlusCircle size={15}/>\n                        <span className='align-middle ml-50'>Create Content</span>\n                    </Button>\n                </div>\n\n                <div class=\"mb-1\" style={{overflowX: 'auto', paddingBottom: 5}}>\n                    <div class=\"d-flex\">\n                        {recentData.map((item, idx) => <div class=\"mr-2\">\n                            <ResourceRecentCard\n                                _id={item._id}\n                                title={item.subjectTitle} des={item.topics.join(', ')}\n                                date={undefined}\n                                creatorName={item.creatorFirstName}\n                                creatorAvatar={item.creatorAvatar}\n                                level={item.educationLevel.title}\n                                onEdit={() => {\n                                    setEditingRow(item)\n                                    dispatch(showAddStudyModal(true))\n                                }}\n                                onDelete={() => {\n                                    deleteMediaList([item._id])\n                                }}\n                                onDuplicate={() => {\n                                    setEditingRow(item)\n                                    dispatch(showAddStudyModal(true))\n                                }}\n\n                            />\n                        </div>)}\n                    </div>\n                </div>\n            </div>\n            <Card>\n                <CardHeader className='flex-md-row flex-column align-md-items-center align-items-start border-bottom'>\n                    <UncontrolledButtonDropdown>\n                        <DropdownToggle color='secondary' caret outline>\n                            <span className='align-middle ml-50'>Action</span>\n                        </DropdownToggle>\n                        <DropdownMenu right>\n                            <DropdownItem className='w-100' onClick={() => deleteMediaList(selectedList)}>\n                                <span className='align-middle ml-50'>Delete</span>\n                            </DropdownItem>\n                        </DropdownMenu>\n                    </UncontrolledButtonDropdown>\n                </CardHeader>\n                <Row className='justify-content-end mx-0'>\n                    <Col className='d-flex align-items-center justify-content-start' md='6' sm='12'>\n                        <div className='d-flex align-items-center'>\n                            <Label for='sort-select' className=\"mb-0\">Rows per page: </Label>\n                            <Input\n                                className='dataTable-select'\n                                type='select'\n                                id='sort-select'\n                                value={pageSize}\n                                onChange={e => setPageSize(parseInt(e.target.value))}\n                            >\n                                <option value={5}>5</option>\n                                <option value={10}>10</option>\n                                <option value={25}>25</option>\n                                <option value={50}>50</option>\n                                <option value={75}>75</option>\n                                <option value={100}>100</option>\n                            </Input>\n                        </div>\n                    </Col>\n\n                    <Col className='d-flex align-items-center justify-content-end mt-1' md='6' sm='12'>\n                        <Label className='mr-1' for='search-input'>\n                            Search\n                        </Label>\n                        <Input\n                            className='dataTable-filter mb-50'\n                            type='text'\n                            bsSize='sm'\n                            id='search-input'\n                            value={searchStr}\n                            onChange={(e) => setSearchStr(e.target.value)}\n                            onKeyPress={(e) => e.key === 'Enter' && loadData()}\n                        />\n                    </Col>\n                </Row>\n                <DataTable\n                    noHeader\n                    pagination\n                    paginationServer\n                    selectableRows\n                    columns={columns}\n                    paginationPerPage={7}\n                    className='react-dataTable'\n                    sortIcon={<ChevronDown size={10}/>}\n                    paginationDefaultPage={pageNumber + 1}\n                    paginationComponent={CustomPagination}\n                    data={mediaList}\n                    selectableRowsComponent={BootstrapCheckbox}\n                    onSelectedRowsChange={(e) => setSelectedList(e.selectedRows.map(item => item._id))}\n                    onSort={(e, sortOrder) => setSort({sortBy: e.selector, sortOrder})}\n                />\n            </Card>\n\n            <AddStudyModal/>\n        </Fragment>\n    )\n}\n\nexport default Study","import React, { useContext, createContext } from 'react';\nimport { RefTracker } from '../hooks';\n\nconst Context = createContext({} as RefTracker);\n\n/**\n * Access parent ref tracker.\n */\nexport function useRefTrackerContext() {\n  return useContext(Context);\n}\n\nexport interface RefTrackerProviderProps {\n  refTracker: RefTracker;\n}\n\nexport const RefTrackerProvider: React.FC<RefTrackerProviderProps> = props => {\n  return (\n    <Context.Provider value={props.refTracker}>\n      {props.children}\n    </Context.Provider>\n  );\n};\n","import { EVENT } from '../constants';\n\nexport type EventType = string | number | symbol;\nexport type Handler<T = any> = (args: T) => void;\n\nexport interface EventManager<E = EventType> {\n  on<T = any>(event: E, handler: Handler<T>): EventManager<E>;\n  off<T = any>(event: E, handler?: Handler<T>): EventManager<E>;\n  emit<T = any>(event: E, args?: T): EventManager<E>;\n}\n\nfunction createEventManager<E = EventType>(): EventManager<E> {\n  const eventList = new Map<E, Set<Handler>>();\n\n  return {\n    on<T = any>(event: E, handler: Handler<T>) {\n      //eslint-disable-next-line @typescript-eslint/no-unused-expressions\n      eventList.has(event)\n        ? eventList.get(event)?.add(handler)\n        : eventList.set(event, new Set([handler]));\n      return this;\n    },\n    off<T = any>(event: E, handler?: Handler<T>) {\n      handler ? eventList.get(event)!.delete(handler) : eventList.delete(event);\n      return this;\n    },\n    emit<T = any>(event: E, args: T) {\n      if (process.env.NODE !== 'production') {\n        const currentEv = (event as unknown) as number;\n\n        if (!eventList.has(event) && currentEv !== EVENT.HIDE_ALL) {\n          console.error(\n            `It seems that the menu you are trying to display is not renderer or you have a menu id mismatch.`,\n            `You used the menu id: ${event}`\n          );\n        }\n      }\n      eventList.has(event) &&\n        eventList.get(event)!.forEach((handler: Handler<T>) => {\n          handler(args);\n        });\n      return this;\n    },\n  };\n}\n\nexport const eventManager = createEventManager();\n","import { useRef } from 'react';\n\nexport interface RefTrackerValue {\n  node: HTMLElement;\n  isSubmenu: boolean;\n  submenuRefTracker?: RefTracker;\n}\n\nexport type RefTracker = ReturnType<typeof useRefTracker>;\n\n/**\n * Used to store children refs\n */\nexport function useRefTracker() {\n  return useRef<Map<HTMLElement, RefTrackerValue>>(new Map()).current;\n}\n","import { eventManager } from './eventManager';\nimport { MenuId, TriggerEvent } from '../types';\nimport { SyntheticEvent } from 'react';\n\nimport { EVENT } from '../constants';\n\nexport interface ShowContextMenuParams {\n  id: MenuId;\n  event: TriggerEvent;\n  props?: any;\n  position?: {\n    x: number;\n    y: number;\n  } | null;\n}\n\nexport interface ContextMenu {\n  show: (params: ShowContextMenuParams) => void;\n  hideAll: () => void;\n}\n\nconst contextMenu: ContextMenu = {\n  show({ id, event, props, position }) {\n    if (event.preventDefault) event.preventDefault();\n\n    eventManager.emit(EVENT.HIDE_ALL).emit(id, {\n      event: (event as SyntheticEvent).nativeEvent || event,\n      props,\n      position,\n    });\n  },\n  hideAll() {\n    eventManager.emit(EVENT.HIDE_ALL);\n  },\n};\n\nexport { contextMenu };\n","import { contextMenu } from '../core';\nimport { ContextMenuParams, TriggerEvent } from '../types';\n\nexport type UseContextMenuProps = Partial<\n  Pick<ContextMenuParams, 'id' | 'props'>\n>;\n\nexport function useContextMenu(props?: UseContextMenuProps) {\n  return {\n    show(event: TriggerEvent, params?: Omit<ContextMenuParams, 'event'>) {\n      if (process.env.NODE_ENV === 'development') {\n        if (!props?.id && !params?.id)\n          console.error(\n            \"You need to provide an id when initializing the hook `useContextMenu({ id: 'your id' })` or when you display the menu `show(e, { id: 'your id' })`. The later is used to override the one defined during initialization.\"\n          );\n      }\n      contextMenu.show({\n        id: (params?.id || props?.id) as string,\n        props: params?.props || props?.props,\n        event: event,\n        position: params?.position,\n      });\n    },\n    hideAll() {\n      contextMenu.hideAll();\n    },\n  };\n}\n","import { RefTrackerValue } from '../hooks';\nimport { STYLE } from '../constants';\n\ninterface Menu<T = RefTrackerValue> {\n  items: T[];\n  isRoot: boolean;\n  focusedIndex: number;\n  parentNode: HTMLElement;\n}\n\n/**\n * Used to control keyboard navigation\n */\nexport function createMenuController() {\n  const menuList = new Map<HTMLElement, Menu>();\n  let focusedIndex: number;\n  let parentNode: HTMLElement;\n  let isAtRoot: boolean;\n  let currentItems: RefTrackerValue[];\n  let forceCloseSubmenu = false;\n\n  function init(rootMenu: RefTrackerValue[]) {\n    currentItems = rootMenu;\n    focusedIndex = -1;\n    isAtRoot = true;\n  }\n\n  function focusSelectedItem() {\n    currentItems[focusedIndex].node.focus();\n  }\n\n  function isSubmenuFocused() {\n    return focusedIndex >= 0 && currentItems[focusedIndex].isSubmenu;\n  }\n\n  function getSubmenuItems() {\n    return Array.from(currentItems[focusedIndex].submenuRefTracker!.values());\n  }\n\n  function isFocused() {\n    if (focusedIndex === -1) {\n      // focus first item\n      moveDown();\n      return false;\n    }\n\n    return true;\n  }\n\n  function moveDown() {\n    if (focusedIndex + 1 < currentItems.length) {\n      focusedIndex++;\n    } else if (focusedIndex + 1 === currentItems.length) {\n      focusedIndex = 0;\n    }\n\n    if (forceCloseSubmenu) closeSubmenu();\n\n    focusSelectedItem();\n  }\n\n  function moveUp() {\n    if (focusedIndex === -1 || focusedIndex === 0) {\n      focusedIndex = currentItems.length - 1;\n    } else if (focusedIndex - 1 < currentItems.length) {\n      focusedIndex--;\n    }\n\n    if (forceCloseSubmenu) closeSubmenu();\n\n    focusSelectedItem();\n  }\n\n  function openSubmenu() {\n    if (isFocused() && isSubmenuFocused()) {\n      const submenuItems = getSubmenuItems();\n      const currentNode = currentItems[focusedIndex].node;\n\n      menuList.set(currentNode, {\n        isRoot: isAtRoot,\n        focusedIndex,\n        parentNode: parentNode || currentNode,\n        items: currentItems,\n      });\n\n      currentNode.classList.add(STYLE.submenuOpen);\n      parentNode = currentNode;\n\n      if (submenuItems.length > 0) {\n        focusedIndex = 0;\n        currentItems = submenuItems;\n      } else {\n        forceCloseSubmenu = true;\n      }\n\n      isAtRoot = false;\n\n      focusSelectedItem();\n      return true;\n    }\n    return false;\n  }\n\n  function closeSubmenu() {\n    if (isFocused() && !isAtRoot) {\n      const {\n        isRoot,\n        items,\n        focusedIndex: parentFocusedIndex,\n        parentNode: menuParentNode,\n      } = menuList.get(parentNode)!;\n\n      parentNode.classList.remove(STYLE.submenuOpen);\n\n      currentItems = items;\n      parentNode = menuParentNode;\n\n      if (isRoot) {\n        isAtRoot = true;\n        menuList.clear();\n      }\n      if (!forceCloseSubmenu) {\n        focusedIndex = parentFocusedIndex;\n        focusSelectedItem();\n      }\n    }\n  }\n\n  return {\n    init,\n    moveDown,\n    moveUp,\n    openSubmenu,\n    closeSubmenu,\n  };\n}\n","/*\n * css classes mapping\n * */\nexport const enum STYLE {\n  menu = 'react-contexify',\n  submenu = 'react-contexify react-contexify__submenu',\n  submenuArrow = 'react-contexify__submenu-arrow',\n  submenuOpen = 'react-contexify__submenu--is-open',\n  separator = 'react-contexify__separator',\n  item = 'react-contexify__item',\n  itemDisabled = 'react-contexify__item--disabled',\n  itemContent = 'react-contexify__item__content',\n  theme = 'react-contexify__theme--',\n  animationWillEnter = 'react-contexify__will-enter--',\n  animationWillLeave = 'react-contexify__will-leave--',\n}\n\nexport const enum EVENT {\n  HIDE_ALL,\n}\n\nexport const theme = {\n  light: 'light',\n  dark: 'dark',\n};\n\nexport const animation = {\n  fade: 'fade',\n  flip: 'flip',\n  scale: 'scale',\n  slide: 'slide',\n};\n\nexport const NOOP = () => {};\n","import { Children, cloneElement, ReactNode, ReactElement } from 'react';\n\nimport {\n  BooleanPredicate,\n  PredicateParams,\n  MenuAnimation,\n  TriggerEvent,\n} from '../types';\n\nexport function isFn(v: any): v is Function {\n  return typeof v === 'function';\n}\n\nexport function isStr(v: any): v is String {\n  return typeof v === 'string';\n}\n\nexport function isTouchEvent(e: TriggerEvent): e is TouchEvent {\n  return e.type === 'touchend';\n}\n\nexport function cloneItems(\n  children: ReactNode,\n  props: { triggerEvent: TriggerEvent; propsFromTrigger?: object }\n) {\n  return Children.map(\n    // remove null item\n    Children.toArray(children).filter(Boolean),\n    item => cloneElement(item as ReactElement<any>, props)\n  );\n}\n\nexport function getMousePosition(e: TriggerEvent) {\n  const pos = {\n    x: 0,\n    y: 0,\n  };\n\n  if (isTouchEvent(e) && e.changedTouches && e.changedTouches.length > 0) {\n    pos.x = e.changedTouches[0].clientX;\n    pos.y = e.changedTouches[0].clientY;\n  } else {\n    pos.x = (e as MouseEvent).clientX;\n    pos.y = (e as MouseEvent).clientY;\n  }\n\n  if (!pos.x || pos.x < 0) pos.x = 0;\n\n  if (!pos.y || pos.y < 0) pos.y = 0;\n\n  return pos;\n}\n\nexport function getPredicateValue(\n  predicate: BooleanPredicate,\n  payload: PredicateParams\n) {\n  return isFn(predicate) ? predicate(payload) : predicate;\n}\n\nexport function hasExitAnimation(animation: MenuAnimation) {\n  return !!(\n    animation &&\n    (isStr(animation) || ('exit' in animation && animation.exit))\n  );\n}\n","/* global: window */\nimport React, {\n  ReactNode,\n  useEffect,\n  useReducer,\n  useRef,\n  useState,\n} from 'react';\nimport cx from 'clsx';\n\nimport { RefTrackerProvider } from './RefTrackerProvider';\n\nimport { eventManager } from '../core/eventManager';\nimport {\n  TriggerEvent,\n  MenuId,\n  ContextMenuParams,\n  MenuAnimation,\n} from '../types';\nimport { usePrevious, useRefTracker } from '../hooks';\nimport { createMenuController } from './menuController';\nimport { NOOP, STYLE, EVENT } from '../constants';\nimport {\n  cloneItems,\n  getMousePosition,\n  hasExitAnimation,\n  isFn,\n  isStr,\n} from './utils';\n\nexport interface MenuProps\n  extends Omit<React.HTMLAttributes<HTMLElement>, 'id'> {\n  /**\n   * Unique id to identify the menu. Use to Trigger the corresponding menu\n   */\n  id: MenuId;\n\n  /**\n   * Any valid node that can be rendered\n   */\n  children: ReactNode;\n\n  /**\n   * Theme is appended to `react-contexify__theme--${given theme}`.\n   *\n   * Built-in theme are `light` and `dark`\n   */\n  theme?: string;\n\n  /**\n   * Animation is appended to\n   * - `.react-contexify__will-enter--${given animation}`\n   * - `.react-contexify__will-leave--${given animation}`\n   *\n   * - To disable all animations you can pass `false`\n   * - To disable only the enter or the exit animation you can provide an object `{enter: false, exit: 'exitAnimation'}`\n   *\n   * - default is set to `scale`\n   *\n   * To use the built-in animation a helper in available\n   * `import { animation } from 'react-contexify`\n   *\n   * animation.fade\n   */\n  animation?: MenuAnimation;\n\n  /**\n   * Invoked after the menu is visible.\n   */\n  onShown?: () => void;\n\n  /**\n   * Invoked after the menu has been hidden.\n   */\n  onHidden?: () => void;\n}\n\ninterface MenuState {\n  x: number;\n  y: number;\n  visible: boolean;\n  triggerEvent: TriggerEvent;\n  propsFromTrigger: any;\n  willLeave: boolean;\n}\n\nfunction reducer(\n  state: MenuState,\n  payload: Partial<MenuState> | ((state: MenuState) => Partial<MenuState>)\n) {\n  return isFn(payload)\n    ? { ...state, ...payload(state) }\n    : { ...state, ...payload };\n}\n\nexport const Menu: React.FC<MenuProps> = ({\n  id,\n  theme,\n  style,\n  className,\n  children,\n  animation = 'scale',\n  onHidden = NOOP,\n  onShown = NOOP,\n  ...rest\n}) => {\n  const [state, setState] = useReducer(reducer, {\n    x: 0,\n    y: 0,\n    visible: false,\n    triggerEvent: {} as TriggerEvent,\n    propsFromTrigger: null,\n    willLeave: false,\n  });\n  const nodeRef = useRef<HTMLDivElement>(null);\n  const didMount = useRef(false);\n  const wasVisible = usePrevious(state.visible);\n  const refTracker = useRefTracker();\n  const [menuController] = useState(() => createMenuController());\n\n  // subscribe event manager\n  useEffect(() => {\n    didMount.current = true;\n    eventManager.on(id, show).on(EVENT.HIDE_ALL, hide);\n\n    return () => {\n      eventManager.off(id, show).off(EVENT.HIDE_ALL, hide);\n    };\n    // hide rely on setState(dispatch), which is guaranted to be the same across render\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]);\n\n  // handle show/ hide callback\n  useEffect(() => {\n    if (didMount.current && state.visible !== wasVisible) {\n      state.visible ? onShown() : onHidden();\n    }\n    // wasWisible is a ref\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [state.visible, onHidden, onShown]);\n\n  // collect menu items for keyboard navigation\n  useEffect(() => {\n    if (!state.visible) {\n      refTracker.clear();\n    } else {\n      menuController.init(Array.from(refTracker.values()));\n    }\n  }, [state.visible, menuController, refTracker]);\n\n  // compute menu position\n  useEffect(() => {\n    if (state.visible) {\n      const { innerWidth: windowWidth, innerHeight: windowHeight } = window;\n      const {\n        offsetWidth: menuWidth,\n        offsetHeight: menuHeight,\n      } = nodeRef.current!;\n      let { x, y } = state;\n\n      if (x + menuWidth > windowWidth) {\n        x -= x + menuWidth - windowWidth;\n      }\n\n      if (y + menuHeight > windowHeight) {\n        y -= y + menuHeight - windowHeight;\n      }\n\n      setState({\n        x,\n        y,\n      });\n    }\n\n    // state.visible and state{x,y} are updated together\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [state.visible]);\n\n  // subscribe dom events\n  useEffect(() => {\n    function handleKeyboard(e: KeyboardEvent) {\n      e.preventDefault();\n      switch (e.key) {\n        case 'Enter':\n          if (!menuController.openSubmenu()) hide();\n          break;\n        case 'Escape':\n          hide();\n          break;\n        case 'ArrowUp':\n          menuController.moveUp();\n          break;\n        case 'ArrowDown':\n          menuController.moveDown();\n          break;\n        case 'ArrowRight':\n          menuController.openSubmenu();\n          break;\n        case 'ArrowLeft':\n          menuController.closeSubmenu();\n          break;\n      }\n    }\n\n    if (state.visible) {\n      window.addEventListener('resize', hide);\n      window.addEventListener('contextmenu', hide);\n      window.addEventListener('click', hide);\n      window.addEventListener('scroll', hide);\n      window.addEventListener('keydown', handleKeyboard);\n\n      // This let us debug the menu in the console in dev mode\n      if (process.env.NODE_ENV !== 'development') {\n        window.addEventListener('blur', hide);\n      }\n    }\n\n    return () => {\n      window.removeEventListener('resize', hide);\n      window.removeEventListener('contextmenu', hide);\n      window.removeEventListener('click', hide);\n      window.removeEventListener('scroll', hide);\n      window.removeEventListener('keydown', handleKeyboard);\n\n      if (process.env.NODE_ENV !== 'development') {\n        window.removeEventListener('blur', hide);\n      }\n    };\n    // state.visible will let us get the right reference to `hide`\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [state.visible, menuController]);\n\n  function show({ event, props, position }: ContextMenuParams) {\n    event.stopPropagation();\n    const { x, y } = position || getMousePosition(event);\n\n    // prevent react from batching the state update\n    // if the menu is already visible we have to recompute bounding rect based on position\n    setTimeout(() => {\n      setState({\n        visible: true,\n        willLeave: false,\n        x,\n        y,\n        triggerEvent: event,\n        propsFromTrigger: props,\n      });\n    }, 0);\n  }\n\n  function hide(event?: Event) {\n    // Safari trigger a click event when you ctrl + trackpad\n    // Firefox:  trigger a click event when right click occur\n    const e = event as KeyboardEvent & MouseEvent;\n\n    if (\n      typeof e !== 'undefined' &&\n      (e.button === 2 || e.ctrlKey === true) &&\n      e.type !== 'contextmenu'\n    ) {\n      return;\n    }\n\n    hasExitAnimation(animation)\n      ? setState(state => ({ willLeave: state.visible }))\n      : setState(state => ({ visible: state.visible ? false : state.visible }));\n  }\n\n  function handleAnimationEnd() {\n    if (state.willLeave && state.visible) {\n      setState({ visible: false, willLeave: false });\n    }\n  }\n\n  function computeAnimationClasses() {\n    if (!animation) return null;\n\n    if (isStr(animation)) {\n      return cx({\n        [`${STYLE.animationWillEnter}${animation}`]:\n          animation && visible && !willLeave,\n        [`${STYLE.animationWillLeave}${animation} ${STYLE.animationWillLeave}'disabled'`]:\n          animation && visible && willLeave,\n      });\n    } else if ('enter' in animation && 'exit' in animation) {\n      return cx({\n        [`${STYLE.animationWillEnter}${animation.enter}`]:\n          animation.enter && visible && !willLeave,\n        [`${STYLE.animationWillLeave}${animation.exit} ${STYLE.animationWillLeave}'disabled'`]:\n          animation.exit && visible && willLeave,\n      });\n    }\n\n    return null;\n  }\n\n  const { visible, triggerEvent, propsFromTrigger, x, y, willLeave } = state;\n  const cssClasses = cx(\n    STYLE.menu,\n    className,\n    { [`${STYLE.theme}${theme}`]: theme },\n    computeAnimationClasses()\n  );\n\n  const menuStyle = {\n    ...style,\n    left: x,\n    top: y,\n    opacity: 1,\n  };\n\n  return (\n    <RefTrackerProvider refTracker={refTracker}>\n      {visible && (\n        <div\n          {...rest}\n          className={cssClasses}\n          onAnimationEnd={handleAnimationEnd}\n          style={menuStyle}\n          ref={nodeRef}\n          role=\"menu\"\n        >\n          {cloneItems(children, {\n            propsFromTrigger,\n            triggerEvent,\n          })}\n        </div>\n      )}\n    </RefTrackerProvider>\n  );\n};\n","import { useEffect, useRef } from 'react';\n\nexport function usePrevious<T>(value: T) {\n  const ref = useRef<T>();\n\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n\n  return ref.current;\n}\n","import React, { ReactNode } from 'react';\nimport cx from 'clsx';\n\nimport {\n  ItemParams,\n  InternalProps,\n  BooleanPredicate,\n  HandlerParamsEvent,\n} from '../types';\nimport { useRefTrackerContext } from './RefTrackerProvider';\nimport { NOOP, STYLE } from '../constants';\nimport { getPredicateValue } from './utils';\n\nexport interface ItemProps\n  extends InternalProps,\n    Omit<React.HTMLAttributes<HTMLElement>, 'hidden' | 'disabled' | 'onClick'> {\n  /**\n   * Any valid node that can be rendered\n   */\n  children: ReactNode;\n\n  /**\n   * Passed to the `Item` onClick callback. Accessible via `data`\n   */\n  data?: any;\n\n  /**\n   * Disable `Item`. If a function is used, a boolean must be returned\n   *\n   * @param props The props passed when you called `show(e, {props: yourProps})`\n   * @param data The data defined on the `Item`\n   * @param triggerEvent The event that triggered the context menu\n   *\n   *\n   * ```\n   * function isItemDisabled({ triggerEvent, props, data }: PredicateParams<type of props, type of data>): boolean\n   * <Item disabled={isItemDisabled} data={data}>content</Item>\n   * ```\n   */\n  disabled?: BooleanPredicate;\n\n  /**\n   * Hide the `Item`. If a function is used, a boolean must be returned\n   *\n   * @param props The props passed when you called `show(e, {props: yourProps})`\n   * @param data The data defined on the `Item`\n   * @param triggerEvent The event that triggered the context menu\n   *\n   *\n   * ```\n   * function isItemHidden({ triggerEvent, props, data }: PredicateParams<type of props, type of data>): boolean\n   * <Item hidden={isItemHidden} data={data}>content</Item>\n   * ```\n   */\n  hidden?: BooleanPredicate;\n\n  /**\n   * Callback when the `Item` is clicked.\n   *\n   * @param event The event that occured on the Item node\n   * @param props The props passed when you called `show(e, {props: yourProps})`\n   * @param data The data defined on the `Item`\n   * @param triggerEvent The event that triggered the context menu\n   *\n   * ```\n   * function handleItemClick({ triggerEvent, event, props, data }: ItemParams<type of props, type of data>){\n   *    // retrieve the id of the Item or any other dom attribute\n   *    const id = e.currentTarget.id;\n   *\n   *    // access the props and the data\n   *    console.log(props, data);\n   *\n   *    // access the coordinate of the mouse when the menu has been displayed\n   *    const {  clientX, clientY } = triggerEvent;\n   *\n   * }\n   *\n   * <Item id=\"item-id\" onClick={handleItemClick} data={{key: 'value'}}>Something</Item>\n   * ```\n   */\n  onClick?: (args: ItemParams) => void;\n}\n\nexport const Item: React.FC<ItemProps> = ({\n  children,\n  className,\n  style,\n  triggerEvent,\n  data,\n  propsFromTrigger,\n  onClick = NOOP,\n  disabled = false,\n  hidden = false,\n  ...rest\n}) => {\n  const refTracker = useRefTrackerContext();\n  const handlerParams = {\n    data,\n    triggerEvent: triggerEvent as HandlerParamsEvent,\n    props: propsFromTrigger,\n  };\n  const isDisabled = getPredicateValue(disabled, handlerParams);\n  const isHidden = getPredicateValue(hidden, handlerParams);\n\n  function handleClick(e: React.MouseEvent<HTMLElement>) {\n    (handlerParams as ItemParams).event = e;\n    isDisabled ? e.stopPropagation() : onClick(handlerParams as ItemParams);\n  }\n\n  function trackRef(node: HTMLElement | null) {\n    if (node && !isDisabled)\n      refTracker.set(node, {\n        node,\n        isSubmenu: false,\n      });\n  }\n\n  function handleKeyDown(e: React.KeyboardEvent<HTMLElement>) {\n    if (e.key === 'Enter') {\n      (handlerParams as ItemParams).event = e;\n      onClick(handlerParams as ItemParams);\n    }\n  }\n\n  if (isHidden) return null;\n\n  const cssClasses = cx(STYLE.item, className, {\n    [`${STYLE.itemDisabled}`]: isDisabled,\n  });\n\n  return (\n    <div\n      {...rest}\n      className={cssClasses}\n      style={style}\n      onClick={handleClick}\n      onKeyDown={handleKeyDown}\n      ref={trackRef}\n      tabIndex={-1}\n      role=\"menuitem\"\n      aria-disabled={isDisabled}\n    >\n      <div className={STYLE.itemContent}>{children}</div>\n    </div>\n  );\n};\n","import './ResourceRecentCard.css'\r\nimport Avatar from \"../../../@core/components/avatar\";\r\nimport {Item, Menu, useContextMenu} from \"react-contexify\";\r\n\r\nconst ResourceRecentCard = ({\r\n                                _id,\r\n                                title,\r\n                                des,\r\n                                date,\r\n                                creatorName,\r\n                                creatorAvatar,\r\n                                level,\r\n                                onEdit,\r\n                                onDelete,\r\n                                onDuplicate\r\n                            }) => {\r\n\r\n    const {show} = useContextMenu({\r\n        id: 'rrc-menu' + _id\r\n    })\r\n\r\n    return (\r\n        <div style={{width: '350px', height: '100%', backgroundColor: 'white', padding: '28px', borderRadius: '15px'}}>\r\n            <div className=\"d-flex justify-content-between\">\r\n                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\r\n                          d=\"M10 3C10.667 3 11.333 3.253 12 3.76C12.667 3.253 13.333 3 14 3H20C20.5304 3 21.0391 3.21071 21.4142 3.58579C21.7893 3.96086 22 4.46957 22 5V18C22 18.5304 21.7893 19.0391 21.4142 19.4142C21.0391 19.7893 20.5304 20 20 20H13C13 20.552 12.55 21 12 21C11.45 21 11 20.55 11 20H4C3.46957 20 2.96086 19.7893 2.58579 19.4142C2.21071 19.0391 2 18.5304 2 18V5C2 4.46957 2.21071 3.96086 2.58579 3.58579C2.96086 3.21071 3.46957 3 4 3H10ZM10 5H4V18H11V6C11 5.45 10.55 5 10 5ZM20 5H14C13.45 5 13 5.45 13 6V18H20V5Z\"\r\n                          fill=\"#C0C1C3\"/>\r\n                </svg>\r\n                <svg className=\"cursor-pointer\" onClick={show} width=\"25\" height=\"24\" viewBox=\"0 0 25 24\" fill=\"none\"\r\n                     xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path\r\n                        d=\"M6.5 10.5C6.89782 10.5 7.27936 10.658 7.56066 10.9393C7.84196 11.2206 8 11.6022 8 12C8 12.3978 7.84196 12.7794 7.56066 13.0607C7.27936 13.342 6.89782 13.5 6.5 13.5C6.10218 13.5 5.72064 13.342 5.43934 13.0607C5.15804 12.7794 5 12.3978 5 12C5 11.6022 5.15804 11.2206 5.43934 10.9393C5.72064 10.658 6.10218 10.5 6.5 10.5ZM12.5 10.5C12.8978 10.5 13.2794 10.658 13.5607 10.9393C13.842 11.2206 14 11.6022 14 12C14 12.3978 13.842 12.7794 13.5607 13.0607C13.2794 13.342 12.8978 13.5 12.5 13.5C12.1022 13.5 11.7206 13.342 11.4393 13.0607C11.158 12.7794 11 12.3978 11 12C11 11.6022 11.158 11.2206 11.4393 10.9393C11.7206 10.658 12.1022 10.5 12.5 10.5ZM18.5 10.5C18.8978 10.5 19.2794 10.658 19.5607 10.9393C19.842 11.2206 20 11.6022 20 12C20 12.3978 19.842 12.7794 19.5607 13.0607C19.2794 13.342 18.8978 13.5 18.5 13.5C18.1022 13.5 17.7206 13.342 17.4393 13.0607C17.158 12.7794 17 12.3978 17 12C17 11.6022 17.158 11.2206 17.4393 10.9393C17.7206 10.658 18.1022 10.5 18.5 10.5Z\"\r\n                        fill=\"black\"/>\r\n                </svg>\r\n            </div>\r\n            <p className=\"rrc-title mt-2\">{title}</p>\r\n            {des !== undefined && <p className=\"rrc-des mb-0\" style={{minHeight: 20}}>{des}</p>}\r\n            {date && <p className=\"rrc-des\">{date}</p>}\r\n            <div className=\"d-flex mt-2 align-items-center\">\r\n                <Avatar img={`${process.env.REACT_APP_3BUCKET_URL}${creatorAvatar}`} imgHeight='30'\r\n                        imgWidth='30'\r\n                        status='online'/>\r\n                <span className=\"rrc-username\" style={{marginLeft: 5}}>{creatorName}</span>\r\n                {level && <span className=\"rrc-level ml-2\">{level}</span>}\r\n            </div>\r\n            <Menu id={'rrc-menu' + _id}>\r\n                <Item onClick={onEdit}>Edit</Item>\r\n                <Item onClick={onDelete}>Delete</Item>\r\n                <Item onClick={onDuplicate}>Duplicate</Item>\r\n            </Menu>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ResourceRecentCard"],"sourceRoot":""}